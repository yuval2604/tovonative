{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";import _inherits from\"@babel/runtime/helpers/inherits\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import*as React from'react';import PropTypes from'prop-types';import Animated from\"react-native-web/dist/exports/Animated\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import View from\"react-native-web/dist/exports/View\";import{PagerRendererPropType}from\"./PropTypes\";var DefaultTransitionSpec={timing:Animated.spring,tension:68,friction:12};var PagerExperimental=function(_React$Component){_inherits(PagerExperimental,_React$Component);function PagerExperimental(){var _getPrototypeOf2;var _this;_classCallCheck(this,PagerExperimental);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(PagerExperimental)).call.apply(_getPrototypeOf2,[this].concat(args)));_this._handleHandlerStateChange=function(event){var GestureHandler=_this.props.GestureHandler;if(event.nativeEvent.state===GestureHandler.State.BEGAN){_this.props.onSwipeStart&&_this.props.onSwipeStart();}else if(event.nativeEvent.state===GestureHandler.State.END){_this.props.onSwipeEnd&&_this.props.onSwipeEnd();var _this$props=_this.props,navigationState=_this$props.navigationState,layout=_this$props.layout,_this$props$swipeDist=_this$props.swipeDistanceThreshold,swipeDistanceThreshold=_this$props$swipeDist===void 0?layout.width/1.75:_this$props$swipeDist,_this$props$swipeVelo=_this$props.swipeVelocityThreshold,swipeVelocityThreshold=_this$props$swipeVelo===void 0?150:_this$props$swipeVelo;var _event$nativeEvent=event.nativeEvent,translationX=_event$nativeEvent.translationX,translationY=_event$nativeEvent.translationY,velocityX=_event$nativeEvent.velocityX,velocityY=_event$nativeEvent.velocityY;var currentIndex=typeof _this._pendingIndex==='number'?_this._pendingIndex:navigationState.index;var nextIndex=currentIndex;if(Math.abs(translationX)>Math.abs(translationY)&&Math.abs(velocityX)>Math.abs(velocityY)&&(Math.abs(translationX)>swipeDistanceThreshold||Math.abs(velocityX)>swipeVelocityThreshold)){nextIndex=Math.round(Math.min(Math.max(0,currentIndex-translationX/Math.abs(translationX)),navigationState.routes.length-1));}if(!isFinite(nextIndex)||!_this.props.canJumpToTab(_this.props.navigationState.routes[nextIndex])){nextIndex=currentIndex;}_this._transitionTo(nextIndex,velocityX);}};_this._transitionTo=function(index,velocity){var animated=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;var offset=-index*_this.props.layout.width;if(_this.props.animationEnabled===false||animated===false){_this.props.panX.setValue(0);_this.props.offsetX.setValue(offset);return;}var timing=DefaultTransitionSpec.timing,transitionConfig=_objectWithoutProperties(DefaultTransitionSpec,[\"timing\"]);var useNativeDriver=_this.props.useNativeDriver;Animated.parallel([timing(_this.props.panX,_objectSpread({},transitionConfig,{toValue:0,velocity:velocity,useNativeDriver:useNativeDriver})),timing(_this.props.offsetX,_objectSpread({},transitionConfig,{toValue:offset,velocity:velocity,useNativeDriver:useNativeDriver}))]).start(function(_ref){var finished=_ref.finished;if(finished){var route=_this.props.navigationState.routes[index];_this.props.jumpTo(route.key);_this.props.onAnimationEnd&&_this.props.onAnimationEnd();_this._pendingIndex=null;}});_this._pendingIndex=index;};return _this;}_createClass(PagerExperimental,[{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(prevProps.navigationState.routes.length!==this.props.navigationState.routes.length||prevProps.layout.width!==this.props.layout.width){this._transitionTo(this.props.navigationState.index,undefined,false);}else if(prevProps.navigationState.index!==this.props.navigationState.index&&this.props.navigationState.index!==this._pendingIndex){this._transitionTo(this.props.navigationState.index);}}},{key:\"render\",value:function render(){var _this2=this;var _this$props2=this.props,GestureHandler=_this$props2.GestureHandler,panX=_this$props2.panX,offsetX=_this$props2.offsetX,layout=_this$props2.layout,navigationState=_this$props2.navigationState,swipeEnabled=_this$props2.swipeEnabled,children=_this$props2.children;var width=layout.width;var routes=navigationState.routes;var maxTranslate=width*(routes.length-1);var translateX=routes.length>1?Animated.add(panX,offsetX).interpolate({inputRange:[-maxTranslate,0],outputRange:[-maxTranslate,0],extrapolate:'clamp'}):0;return React.createElement(GestureHandler.PanGestureHandler,{enabled:layout.width!==0&&swipeEnabled!==false,minDeltaX:10,onGestureEvent:Animated.event([{nativeEvent:{translationX:this.props.panX}}],{useNativeDriver:this.props.useNativeDriver}),onHandlerStateChange:this._handleHandlerStateChange},React.createElement(Animated.View,{style:[styles.sheet,width?{width:routes.length*width,transform:[{translateX:translateX}]}:null]},React.Children.map(children,function(child,i){var route=navigationState.routes[i];var focused=i===navigationState.index;return React.createElement(View,{key:route.key,testID:_this2.props.getTestID({route:route}),accessibilityElementsHidden:!focused,importantForAccessibility:focused?'auto':'no-hide-descendants',style:width?{width:width}:focused?StyleSheet.absoluteFill:null},focused||width?child:null);})));}}]);return PagerExperimental;}(React.Component);PagerExperimental.propTypes=_objectSpread({},PagerRendererPropType,{swipeDistanceThreshold:PropTypes.number,swipeVelocityThreshold:PropTypes.number,GestureHandler:PropTypes.object});PagerExperimental.defaultProps={canJumpToTab:function canJumpToTab(){return true;}};export{PagerExperimental as default};var styles=StyleSheet.create({sheet:{flex:1,flexDirection:'row',alignItems:'stretch'}});","map":{"version":3,"sources":["/Users/yuvalbeiser/Downloads/codecanyon-B1UUUVLW-harrier-react-native-ecommerce-ui-kit-template/eCommerce2/node_modules/react-native-tab-view/src/PagerExperimental.js"],"names":["React","PropTypes","PagerRendererPropType","DefaultTransitionSpec","timing","Animated","spring","tension","friction","PagerExperimental","_handleHandlerStateChange","event","GestureHandler","props","nativeEvent","state","State","BEGAN","onSwipeStart","END","onSwipeEnd","navigationState","layout","swipeDistanceThreshold","width","swipeVelocityThreshold","translationX","translationY","velocityX","velocityY","currentIndex","_pendingIndex","index","nextIndex","Math","abs","round","min","max","routes","length","isFinite","canJumpToTab","_transitionTo","velocity","animated","offset","animationEnabled","panX","setValue","offsetX","transitionConfig","useNativeDriver","parallel","toValue","start","finished","route","jumpTo","key","onAnimationEnd","prevProps","undefined","swipeEnabled","children","maxTranslate","translateX","add","interpolate","inputRange","outputRange","extrapolate","styles","sheet","transform","Children","map","child","i","focused","getTestID","StyleSheet","absoluteFill","Component","propTypes","number","object","defaultProps","create","flex","flexDirection","alignItems"],"mappings":"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","sourcesContent":["/* @flow */\n\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { Animated, StyleSheet, View } from 'react-native';\nimport { PagerRendererPropType } from './PropTypes';\nimport type { PagerRendererProps } from './TypeDefinitions';\n\ntype Props<T> = PagerRendererProps<T> & {\n  swipeDistanceThreshold?: number,\n  swipeVelocityThreshold?: number,\n  GestureHandler: any,\n};\n\nconst DefaultTransitionSpec = {\n  timing: Animated.spring,\n  tension: 68,\n  friction: 12,\n};\n\nexport default class PagerExperimental<T: *> extends React.Component<Props<T>> {\n  static propTypes = {\n    ...PagerRendererPropType,\n    swipeDistanceThreshold: PropTypes.number,\n    swipeVelocityThreshold: PropTypes.number,\n    GestureHandler: PropTypes.object,\n  };\n\n  static defaultProps = {\n    canJumpToTab: () => true,\n  };\n\n  componentDidUpdate(prevProps: Props<T>) {\n    if (\n      prevProps.navigationState.routes.length !==\n        this.props.navigationState.routes.length ||\n      prevProps.layout.width !== this.props.layout.width\n    ) {\n      this._transitionTo(this.props.navigationState.index, undefined, false);\n    } else if (\n      prevProps.navigationState.index !== this.props.navigationState.index &&\n      this.props.navigationState.index !== this._pendingIndex\n    ) {\n      this._transitionTo(this.props.navigationState.index);\n    }\n  }\n\n  _handleHandlerStateChange = event => {\n    const { GestureHandler } = this.props;\n\n    if (event.nativeEvent.state === GestureHandler.State.BEGAN) {\n      this.props.onSwipeStart && this.props.onSwipeStart();\n    } else if (event.nativeEvent.state === GestureHandler.State.END) {\n      this.props.onSwipeEnd && this.props.onSwipeEnd();\n\n      const {\n        navigationState,\n        layout,\n        swipeDistanceThreshold = layout.width / 1.75,\n        swipeVelocityThreshold = 150,\n      } = this.props;\n      const {\n        translationX,\n        translationY,\n        velocityX,\n        velocityY,\n      } = event.nativeEvent;\n      const currentIndex =\n        typeof this._pendingIndex === 'number'\n          ? this._pendingIndex\n          : navigationState.index;\n\n      let nextIndex = currentIndex;\n\n      if (\n        Math.abs(translationX) > Math.abs(translationY) &&\n        Math.abs(velocityX) > Math.abs(velocityY) &&\n        (Math.abs(translationX) > swipeDistanceThreshold ||\n          Math.abs(velocityX) > swipeVelocityThreshold)\n      ) {\n        nextIndex = Math.round(\n          Math.min(\n            Math.max(0, currentIndex - translationX / Math.abs(translationX)),\n            navigationState.routes.length - 1\n          )\n        );\n      }\n\n      if (\n        !isFinite(nextIndex) ||\n        !this.props.canJumpToTab(this.props.navigationState.routes[nextIndex])\n      ) {\n        nextIndex = currentIndex;\n      }\n\n      this._transitionTo(nextIndex, velocityX);\n    }\n  };\n\n  _transitionTo = (\n    index: number,\n    velocity?: number,\n    animated?: boolean = true\n  ) => {\n    const offset = -index * this.props.layout.width;\n\n    if (this.props.animationEnabled === false || animated === false) {\n      this.props.panX.setValue(0);\n      this.props.offsetX.setValue(offset);\n      return;\n    }\n\n    const { timing, ...transitionConfig } = DefaultTransitionSpec;\n    const { useNativeDriver } = this.props;\n\n    Animated.parallel([\n      timing(this.props.panX, {\n        ...transitionConfig,\n        toValue: 0,\n        velocity,\n        useNativeDriver,\n      }),\n      timing(this.props.offsetX, {\n        ...transitionConfig,\n        toValue: offset,\n        velocity,\n        useNativeDriver,\n      }),\n    ]).start(({ finished }) => {\n      if (finished) {\n        const route = this.props.navigationState.routes[index];\n        this.props.jumpTo(route.key);\n        this.props.onAnimationEnd && this.props.onAnimationEnd();\n        this._pendingIndex = null;\n      }\n    });\n\n    this._pendingIndex = index;\n  };\n\n  _pendingIndex: ?number;\n\n  render() {\n    const {\n      GestureHandler,\n      panX,\n      offsetX,\n      layout,\n      navigationState,\n      swipeEnabled,\n      children,\n    } = this.props;\n    const { width } = layout;\n    const { routes } = navigationState;\n    const maxTranslate = width * (routes.length - 1);\n    const translateX =\n      routes.length > 1\n        ? Animated.add(panX, offsetX).interpolate({\n            inputRange: [-maxTranslate, 0],\n            outputRange: [-maxTranslate, 0],\n            extrapolate: 'clamp',\n          })\n        : 0;\n\n    return (\n      <GestureHandler.PanGestureHandler\n        enabled={layout.width !== 0 && swipeEnabled !== false}\n        minDeltaX={10}\n        onGestureEvent={Animated.event(\n          [{ nativeEvent: { translationX: this.props.panX } }],\n          { useNativeDriver: this.props.useNativeDriver }\n        )}\n        onHandlerStateChange={this._handleHandlerStateChange}\n      >\n        <Animated.View\n          style={[\n            styles.sheet,\n            width\n              ? { width: routes.length * width, transform: [{ translateX }] }\n              : null,\n          ]}\n        >\n          {React.Children.map(children, (child, i) => {\n            const route = navigationState.routes[i];\n            const focused = i === navigationState.index;\n\n            return (\n              <View\n                key={route.key}\n                testID={this.props.getTestID({ route })}\n                accessibilityElementsHidden={!focused}\n                importantForAccessibility={\n                  focused ? 'auto' : 'no-hide-descendants'\n                }\n                style={\n                  width ? { width } : focused ? StyleSheet.absoluteFill : null\n                }\n              >\n                {focused || width ? child : null}\n              </View>\n            );\n          })}\n        </Animated.View>\n      </GestureHandler.PanGestureHandler>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  sheet: {\n    flex: 1,\n    flexDirection: 'row',\n    alignItems: 'stretch',\n  },\n});\n"]},"metadata":{},"sourceType":"module"}