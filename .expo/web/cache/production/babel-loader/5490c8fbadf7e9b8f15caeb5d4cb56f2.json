{"ast":null,"code":"import _extends from\"@babel/runtime/helpers/extends\";import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";import _inherits from\"@babel/runtime/helpers/inherits\";import React from'react';import View from\"react-native-web/dist/exports/View\";var PI_2=Math.PI/2;var NativeLinearGradient=function(_React$PureComponent){_inherits(NativeLinearGradient,_React$PureComponent);function NativeLinearGradient(){var _this;_classCallCheck(this,NativeLinearGradient);_this=_possibleConstructorReturn(this,_getPrototypeOf(NativeLinearGradient).apply(this,arguments));_this.state={width:undefined,height:undefined};_this.onLayout=function(event){_this.setState({width:event.nativeEvent.layout.width,height:event.nativeEvent.layout.height});if(_this.props.onLayout){_this.props.onLayout(event);}};_this.getControlPoints=function(){var _this$props=_this.props,startPoint=_this$props.startPoint,endPoint=_this$props.endPoint;var correctedStartPoint=[0,0];if(Array.isArray(startPoint)){correctedStartPoint=[startPoint[0]!=null?startPoint[0]:0.0,startPoint[1]!=null?startPoint[1]:0.0];}var correctedEndPoint=[0.0,1.0];if(Array.isArray(endPoint)){correctedEndPoint=[endPoint[0]!=null?endPoint[0]:0.0,endPoint[1]!=null?endPoint[1]:1.0];}return[correctedStartPoint,correctedEndPoint];};_this.calculateGradientAngleFromControlPoints=function(){var _this$getControlPoint=_this.getControlPoints(),_this$getControlPoint2=_slicedToArray(_this$getControlPoint,2),start=_this$getControlPoint2[0],end=_this$getControlPoint2[1];var _this$state=_this.state,_this$state$width=_this$state.width,width=_this$state$width===void 0?1:_this$state$width,_this$state$height=_this$state.height,height=_this$state$height===void 0?1:_this$state$height;start[0]*=width;end[0]*=width;start[1]*=height;end[1]*=height;var py=end[1]-start[1];var px=end[0]-start[0];return 90+Math.atan2(py,px)*180/Math.PI;};_this.getWebGradientColorStyle=function(){return _this.getGradientValues().join(',');};_this.convertJSColorToGradientSafeColor=function(color,index){var locations=_this.props.locations;var hexColor=hexStringFromProcessedColor(color);var output=hexColor;if(locations&&locations[index]){var location=Math.max(0,Math.min(1,locations[index]));var percentage=location*100;output+=\" \"+percentage+\"%\";}return output;};_this.getGradientValues=function(){return _this.props.colors.map(_this.convertJSColorToGradientSafeColor);};_this.getBackgroundImage=function(){return\"linear-gradient(\"+_this.calculateGradientAngleFromControlPoints()+\"deg, \"+_this.getWebGradientColorStyle()+\")\";};return _this;}_createClass(NativeLinearGradient,[{key:\"render\",value:function render(){var _this$props2=this.props,colors=_this$props2.colors,locations=_this$props2.locations,startPoint=_this$props2.startPoint,endPoint=_this$props2.endPoint,onLayout=_this$props2.onLayout,style=_this$props2.style,props=_objectWithoutProperties(_this$props2,[\"colors\",\"locations\",\"startPoint\",\"endPoint\",\"onLayout\",\"style\"]);var backgroundImage=this.getBackgroundImage();return React.createElement(View,_extends({style:[style,{backgroundImage:backgroundImage}],onLayout:this.onLayout},props));}}]);return NativeLinearGradient;}(React.PureComponent);export{NativeLinearGradient as default};function hexStringFromProcessedColor(argbColor){if(argbColor===0){return\"rgba(0,0,0,0)\";}var hexColorString=argbColor.toString(16);var withoutAlpha=hexColorString.substring(2);var alpha=hexColorString.substring(0,2);return\"#\"+withoutAlpha+alpha;}","map":{"version":3,"sources":["../src/NativeLinearGradient.web.tsx"],"names":[],"mappings":"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","sourcesContent":["import React from 'react';\nimport { View } from 'react-native';\n\ntype Props = {\n  colors: number[];\n  locations?: number[] | null;\n  startPoint?: Point | null;\n  endPoint?: Point | null;\n  onLayout?: Function;\n} & React.ComponentProps<typeof View>;\n\ntype State = {\n  width?: number;\n  height?: number;\n};\n\ntype Point = [number, number];\n\nconst PI_2 = Math.PI / 2;\n\nexport default class NativeLinearGradient extends React.PureComponent<Props, State> {\n  state = {\n    width: undefined,\n    height: undefined,\n  };\n\n  onLayout = event => {\n    this.setState({\n      width: event.nativeEvent.layout.width,\n      height: event.nativeEvent.layout.height,\n    });\n    if (this.props.onLayout) {\n      this.props.onLayout(event);\n    }\n  };\n\n  getControlPoints = (): Point[] => {\n    const { startPoint, endPoint } = this.props;\n\n    let correctedStartPoint: Point = [0, 0];\n    if (Array.isArray(startPoint)) {\n      correctedStartPoint = [\n        startPoint[0] != null ? startPoint[0] : 0.0,\n        startPoint[1] != null ? startPoint[1] : 0.0,\n      ];\n    }\n    let correctedEndPoint: Point = [0.0, 1.0];\n    if (Array.isArray(endPoint)) {\n      correctedEndPoint = [\n        endPoint[0] != null ? endPoint[0] : 0.0,\n        endPoint[1] != null ? endPoint[1] : 1.0,\n      ];\n    }\n    return [correctedStartPoint, correctedEndPoint];\n  };\n\n  calculateGradientAngleFromControlPoints = (): number => {\n    const [start, end] = this.getControlPoints();\n    const { width = 1, height = 1 } = this.state;\n    start[0] *= width;\n    end[0] *= width;\n    start[1] *= height;\n    end[1] *= height;\n    const py = end[1] - start[1];\n    const px = end[0] - start[0];\n    return 90 + (Math.atan2(py, px) * 180) / Math.PI;\n  };\n\n  getWebGradientColorStyle = (): string => {\n    return this.getGradientValues().join(',');\n  };\n\n  convertJSColorToGradientSafeColor = (color: number, index: number): string => {\n    const { locations } = this.props;\n    const hexColor = hexStringFromProcessedColor(color);\n    let output = hexColor;\n    if (locations && locations[index]) {\n      const location = Math.max(0, Math.min(1, locations[index]));\n      // Convert 0...1 to 0...100\n      const percentage = location * 100;\n      output += ` ${percentage}%`;\n    }\n    return output;\n  };\n\n  getGradientValues = (): string[] => {\n    return this.props.colors.map(this.convertJSColorToGradientSafeColor);\n  };\n\n  getBackgroundImage = (): string => {\n    return `linear-gradient(${this.calculateGradientAngleFromControlPoints()}deg, ${this.getWebGradientColorStyle()})`;\n  };\n\n  render() {\n    const { colors, locations, startPoint, endPoint, onLayout, style, ...props } = this.props;\n    const backgroundImage = this.getBackgroundImage();\n    // TODO: Bacon: In the future we could consider adding `backgroundRepeat: \"no-repeat\"`. For more browser support.\n    return (\n      <View\n        style={[\n          style,\n          // @ts-ignore: [ts] Property 'backgroundImage' does not exist on type 'ViewStyle'.\n          { backgroundImage },\n        ]}\n        onLayout={this.onLayout}\n        {...props}\n      />\n    );\n  }\n}\n\nfunction hexStringFromProcessedColor(argbColor: number): string {\n  if (argbColor === 0) {\n    return `rgba(0,0,0,0)`;\n  }\n  const hexColorString = argbColor.toString(16);\n  const withoutAlpha = hexColorString.substring(2);\n  const alpha = hexColorString.substring(0, 2);\n  return `#${withoutAlpha}${alpha}`;\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}