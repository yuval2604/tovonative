{"ast":null,"code":"Object.defineProperty(exports,\"__esModule\",{value:true});exports.Item=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var _jsxFileName='src/basic/Item.js';var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=require('react');var _react2=_interopRequireDefault(_react);var _propTypes=require('prop-types');var _propTypes2=_interopRequireDefault(_propTypes);var _reactNative=require(\"react-native-web/dist/index\");var _lodash=require('lodash');var _nativeBaseShoutemTheme=require('native-base-shoutem-theme');var _platform=require(\"../theme/variables/platform\");var _platform2=_interopRequireDefault(_platform);var _computeProps=require(\"../utils/computeProps\");var _computeProps2=_interopRequireDefault(_computeProps);var _mapPropsToStyleNames=require(\"../utils/mapPropsToStyleNames\");var _mapPropsToStyleNames2=_interopRequireDefault(_mapPropsToStyleNames);var _Input=require(\"./Input\");var _Label=require(\"./Label\");var _Icon=require(\"./Icon\");var _Thumbnail=require(\"./Thumbnail\");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Item=function(_Component){_inherits(Item,_Component);function Item(props){_classCallCheck(this,Item);var _this=_possibleConstructorReturn(this,(Item.__proto__||Object.getPrototypeOf(Item)).call(this,props));_this.state={isFocussed:true,text:'',topAnim:new _reactNative.Animated.Value(18),opacAnim:new _reactNative.Animated.Value(1)};return _this;}_createClass(Item,[{key:'componentDidMount',value:function componentDidMount(){if(this.props.floatingLabel){if(this.inputProps&&this.inputProps.value){this.floatUp(-16);}if(this.inputProps&&this.inputProps.getRef)this.inputProps.getRef(this._inputRef);}}},{key:'getInitialStyle',value:function getInitialStyle(){return{roundedInputGroup:{borderWidth:this.props.rounded?_platform2.default.borderWidth*2:undefined,borderRadius:this.props.rounded?_platform2.default.inputGroupRoundedBorderRadius:undefined}};}},{key:'getPlacholderValue',value:function getPlacholderValue(inputProps){var placeholderValue=void 0;if((0,_lodash.isArray)(this.props.children)&&this.props.children[0].props.children){placeholderValue=null;}else{placeholderValue=inputProps.placeholder;}return placeholderValue;}},{key:'floatBack',value:function floatBack(e){_reactNative.Animated.timing(this.state.topAnim,{toValue:e||18,duration:150}).start();_reactNative.Animated.timing(this.state.opacAnim,{toValue:1,duration:150}).start();}},{key:'floatUp',value:function floatUp(e){_reactNative.Animated.timing(this.state.topAnim,{toValue:e||-22,duration:150}).start();_reactNative.Animated.timing(this.state.opacAnim,{toValue:0.7,duration:150}).start();}},{key:'prepareRootProps',value:function prepareRootProps(){var defaultProps={style:this.getInitialStyle().roundedInputGroup};return(0,_computeProps2.default)(this.props,defaultProps);}},{key:'UNSAFE_componentWillReceiveProps',value:function UNSAFE_componentWillReceiveProps(nextProps){var _this2=this;var childrenArray=_react2.default.Children.toArray(nextProps.children);(0,_lodash.remove)(childrenArray,function(item){if(item.type.displayName==='Styled(Input)'){_this2.inputProps=item.props;return item;}return null;});if(this.props.floatingLabel){if(this.inputProps&&this.inputProps.value){this.setState({isFocused:true});this.floatUp(-16);}if(this.inputProps&&this.inputProps.getRef)this.inputProps.getRef(this._inputRef);}}},{key:'renderChildren',value:function renderChildren(){var _this3=this;var newChildren=[];var childrenArray=_react2.default.Children.toArray(this.props.children);var label=[];var labelProps={};label=(0,_lodash.remove)(childrenArray,function(item){if(item.type===_Label.Label){labelProps=item.props;return item;}return null;});var inputProps={};(0,_lodash.remove)(childrenArray,function(item){if(item.type===_Input.Input){inputProps=item.props;_this3.inputProps=item.props;return item;}return null;});var icon=[];var iconProps={};icon=(0,_lodash.remove)(childrenArray,function(item){if(item.type===_Icon.Icon){iconProps=item.props;return item;}return null;});var image=[];image=(0,_lodash.remove)(childrenArray,function(item){if(item.type===_Thumbnail.Thumbnail){return item;}return null;});if(this.props.floatingLabel&&icon.length){var flag=true;var isIcon=false;for(var i=0;i<this.props.children.length;i++){if(this.props.children[i].props.name&&this.props.children[i].type.displayName!=='Styled(Input)'){isIcon=true;newChildren.push(_react2.default.createElement(_Icon.Icon,_extends({key:[i]},this.props.children[i].props,{__source:{fileName:_jsxFileName,lineNumber:174}})));}if((this.props.children[i].props.children||this.props.children[i].props.placeholder)&&flag){flag=false;newChildren.push(_react2.default.createElement(_reactNative.Animated.View,{key:'float',style:{position:'absolute',left:this.props.last&&isIcon?40:this.props.last?15:isIcon?26:0,right:0,top:this.state.topAnim,opacity:this.state.opacAnim,paddingTop:_reactNative.Platform.OS==='ios'?undefined:undefined,paddingBottom:_reactNative.Platform.OS==='ios'?undefined:12},__source:{fileName:_jsxFileName,lineNumber:186}},_react2.default.createElement(_Label.Label,_extends({},labelProps,{__source:{fileName:_jsxFileName,lineNumber:205}}),this.renderLabel(label,labelProps))));newChildren.push(_react2.default.createElement(_Input.Input,_extends({ref:function ref(c){return _this3._inputRef=c;},key:'l2'},inputProps,{placeholder:this.getPlacholderValue(inputProps),onFocus:function onFocus(){_this3.setState({isFocused:true});if(inputProps.onFocus){inputProps.onFocus();}},onBlur:function onBlur(e){if(inputProps.value){_this3.setState({isFocused:true});}else if(!_this3.state.text.length){_this3.setState({isFocused:false});}if(inputProps.onBlur){inputProps.onBlur(e);}},onChangeText:function onChangeText(text){_this3.setState({text:text});if(inputProps.onChangeText){inputProps.onChangeText(text);}},__source:{fileName:_jsxFileName,lineNumber:212}})));}}}else if(this.props.floatingLabel&&image.length){var isImage=false;for(var _i=0;_i<this.props.children.length;_i++){if(this.props.children[_i].type.displayName==='Styled(Thumbnail)'){isImage=true;newChildren.push(_react2.default.createElement(_Thumbnail.Thumbnail,_extends({small:true,key:[_i]},this.props.children[_i].props,{style:{right:10,left:_i===this.props.children.length-1?undefined:0},__source:{fileName:_jsxFileName,lineNumber:253}})));}if(this.props.children[_i].props.children){newChildren.push(_react2.default.createElement(_reactNative.Animated.View,{key:'float',style:{position:'absolute',left:this.props.last&&isImage?57:this.props.last?15:isImage?42:0,right:0,top:this.state.topAnim,opacity:this.state.opacAnim,paddingTop:_reactNative.Platform.OS==='ios'?undefined:undefined,paddingBottom:_reactNative.Platform.OS==='ios'?undefined:12},__source:{fileName:_jsxFileName,lineNumber:267}},_react2.default.createElement(_Label.Label,_extends({},labelProps,{__source:{fileName:_jsxFileName,lineNumber:286}}),this.renderLabel(label,labelProps))));newChildren.push(_react2.default.createElement(_Input.Input,_extends({ref:function ref(c){return _this3._inputRef=c;},key:'l2'},inputProps,{placeholder:this.getPlacholderValue(inputProps),onFocus:function onFocus(){_this3.setState({isFocused:true});inputProps.onFocus&&inputProps.onFocus();},onBlur:function onBlur(e){inputProps.value?_this3.setState({isFocused:true}):!_this3.state.text.length&&_this3.setState({isFocused:false});inputProps.onBlur&&inputProps.onBlur(e);},onChangeText:function onChangeText(text){_this3.setState({text:text});inputProps.onChangeText&&inputProps.onChangeText(text);},style:{left:this.props.last&&isImage?10:this.props.last?4:isImage?10:0,marginRight:12},__source:{fileName:_jsxFileName,lineNumber:293}})));}}}else if(this.props.floatingLabel){newChildren.push(_react2.default.createElement(_reactNative.Animated.View,{key:'float',style:{position:'absolute',left:this.props.last?15:0,right:0,top:this.state.topAnim,opacity:this.state.opacAnim,paddingTop:_reactNative.Platform.OS==='ios'?undefined:undefined,paddingBottom:_reactNative.Platform.OS==='ios'?undefined:12},__source:{fileName:_jsxFileName,lineNumber:332}},_react2.default.createElement(_Label.Label,_extends({},labelProps,{__source:{fileName:_jsxFileName,lineNumber:344}}),this.renderLabel(label,labelProps))));newChildren.push(_react2.default.createElement(_Input.Input,_extends({ref:function ref(c){return _this3._inputRef=c;},value:this.state.text,key:'l2'},inputProps,{placeholder:this.getPlacholderValue(inputProps),onFocus:function onFocus(){_this3.setState({isFocused:true});inputProps.onFocus&&inputProps.onFocus();},onBlur:function onBlur(e){inputProps.value?_this3.setState({isFocused:true}):!_this3.state.text.length&&_this3.setState({isFocused:false});inputProps.onBlur&&inputProps.onBlur(e);},onChangeText:function onChangeText(text){_this3.setState({text:text});inputProps.onChangeText&&inputProps.onChangeText(text);},__source:{fileName:_jsxFileName,lineNumber:349}})));}else if(this.props.stackedLabel&&icon.length){newChildren.push(_react2.default.createElement(_reactNative.View,{key:'s',style:{flexDirection:'row',flex:1,width:_platform2.default.deviceWidth-15},__source:{fileName:_jsxFileName,lineNumber:375}},_react2.default.createElement(_Icon.Icon,_extends({key:'s1'},iconProps,{__source:{fileName:_jsxFileName,lineNumber:383}})),_react2.default.createElement(_reactNative.View,{style:{flexDirection:'column'},__source:{fileName:_jsxFileName,lineNumber:384}},_react2.default.createElement(_Label.Label,_extends({key:'s2'},labelProps,{__source:{fileName:_jsxFileName,lineNumber:385}})),_react2.default.createElement(_Input.Input,_extends({key:'s3'},inputProps,{style:{width:_platform2.default.deviceWidth-40},__source:{fileName:_jsxFileName,lineNumber:386}})))));}else{return this.props.children;}return newChildren;}},{key:'renderLabel',value:function renderLabel(label,labelProps){var newLabel=[];var labelStyle=_reactNative.StyleSheet.flatten([{fontSize:15,lineHeight:30},labelProps.style]);if(this.props.floatingLabel){if(this.state.isFocused){newLabel.push(_react2.default.createElement(_Label.Label,_extends({},labelProps,{key:'newFLabel',float:true,style:labelStyle})));this.floatUp(-16);}else{newLabel.push(label);this.floatBack(labelProps.floatBack);}}else{newLabel.push(_react2.default.createElement(_Label.Label,_extends({},labelProps,{key:'newLabel'})));}return newLabel;}},{key:'render',value:function render(){var _this4=this;return _react2.default.createElement(_reactNative.TouchableOpacity,_extends({ref:function ref(c){return _this4._root=c;}},this.prepareRootProps(),{activeOpacity:1,__source:{fileName:_jsxFileName,lineNumber:434}}),this.renderChildren());}}]);return Item;}(_react.Component);Item.propTypes=_extends({},_reactNative.TouchableOpacity.propTypes,{style:_propTypes2.default.oneOfType([_propTypes2.default.object,_propTypes2.default.number,_propTypes2.default.array]),inlineLabel:_propTypes2.default.bool,floatingLabel:_propTypes2.default.bool,stackedLabel:_propTypes2.default.bool,fixedLabel:_propTypes2.default.bool,success:_propTypes2.default.bool,error:_propTypes2.default.bool});var StyledItem=(0,_nativeBaseShoutemTheme.connectStyle)('NativeBase.Item',{},_mapPropsToStyleNames2.default)(Item);exports.Item=StyledItem;","map":{"version":3,"sources":["../../../src/basic/Item.js"],"names":["Item","Component","isFocussed","text","topAnim","Animated","opacAnim","roundedInputGroup","borderWidth","variables","borderRadius","inputProps","placeholderValue","e","toValue","duration","defaultProps","style","nextProps","childrenArray","React","item","isFocused","newChildren","label","labelProps","Label","Input","icon","iconProps","Icon","image","Thumbnail","flag","isIcon","i","position","left","right","top","opacity","paddingTop","Platform","paddingBottom","isImage","marginRight","flexDirection","flex","width","newLabel","labelStyle","StyleSheet","fontSize","lineHeight","key","float","TouchableOpacity","PropTypes","inlineLabel","floatingLabel","stackedLabel","fixedLabel","success","error","StyledItem","mapPropsToStyleNames"],"mappings":"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","sourcesContent":["/* eslint-disable no-plusplus */\n/* eslint-disable no-loop-func */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  TouchableOpacity,\n  Animated,\n  Platform,\n  View,\n  StyleSheet\n} from 'react-native';\nimport { isArray, remove } from 'lodash';\nimport { connectStyle } from 'native-base-shoutem-theme';\n\nimport variables from '../theme/variables/platform';\nimport computeProps from '../utils/computeProps';\nimport mapPropsToStyleNames from '../utils/mapPropsToStyleNames';\n\nimport { Input } from './Input';\nimport { Label } from './Label';\nimport { Icon } from './Icon';\nimport { Thumbnail } from './Thumbnail';\n\nclass Item extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isFocussed: true,\n      text: '',\n      topAnim: new Animated.Value(18),\n      opacAnim: new Animated.Value(1)\n    };\n  }\n  componentDidMount() {\n    if (this.props.floatingLabel) {\n      if (this.inputProps && this.inputProps.value) {\n        this.floatUp(-16);\n      }\n      if (this.inputProps && this.inputProps.getRef)\n        this.inputProps.getRef(this._inputRef);\n    }\n  }\n\n  getInitialStyle() {\n    return {\n      roundedInputGroup: {\n        borderWidth: this.props.rounded ? variables.borderWidth * 2 : undefined,\n        borderRadius: this.props.rounded\n          ? variables.inputGroupRoundedBorderRadius\n          : undefined\n      }\n    };\n  }\n\n  getPlacholderValue(inputProps) {\n    let placeholderValue;\n\n    if (isArray(this.props.children) && this.props.children[0].props.children) {\n      placeholderValue = null;\n    } else {\n      placeholderValue = inputProps.placeholder;\n    }\n\n    return placeholderValue;\n  }\n\n  floatBack(e) {\n    Animated.timing(this.state.topAnim, {\n      toValue: e || 18,\n      duration: 150\n    }).start();\n    Animated.timing(this.state.opacAnim, {\n      toValue: 1,\n      duration: 150\n    }).start();\n  }\n\n  floatUp(e) {\n    Animated.timing(this.state.topAnim, {\n      toValue: e || -22,\n      duration: 150\n    }).start();\n    Animated.timing(this.state.opacAnim, {\n      toValue: 0.7,\n      duration: 150\n    }).start();\n  }\n\n  prepareRootProps() {\n    const defaultProps = {\n      style: this.getInitialStyle().roundedInputGroup\n    };\n\n    return computeProps(this.props, defaultProps);\n  }\n\n  // Temporary fix to avoid the crash.\n  // To be refactored to getDerivedStateFromProps.\n\n  // eslint-disable-next-line camelcase\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    const childrenArray = React.Children.toArray(nextProps.children);\n\n    remove(childrenArray, item => {\n      if (item.type.displayName === 'Styled(Input)') {\n        this.inputProps = item.props;\n        return item;\n      }\n      return null;\n    });\n    if (this.props.floatingLabel) {\n      if (this.inputProps && this.inputProps.value) {\n        this.setState({ isFocused: true });\n        this.floatUp(-16);\n      }\n      if (this.inputProps && this.inputProps.getRef)\n        this.inputProps.getRef(this._inputRef);\n    }\n  }\n\n  renderChildren() {\n    const newChildren = [];\n    const childrenArray = React.Children.toArray(this.props.children);\n\n    let label = [];\n    let labelProps = {};\n    label = remove(childrenArray, item => {\n      if (item.type === Label) {\n        labelProps = item.props;\n        return item;\n      }\n      return null;\n    });\n\n    let inputProps = {};\n    remove(childrenArray, item => {\n      if (item.type === Input) {\n        inputProps = item.props;\n        this.inputProps = item.props;\n        return item;\n      }\n      return null;\n    });\n\n    let icon = [];\n    let iconProps = {};\n    icon = remove(childrenArray, item => {\n      if (item.type === Icon) {\n        iconProps = item.props;\n        return item;\n      }\n      return null;\n    });\n\n    let image = [];\n    image = remove(childrenArray, item => {\n      if (item.type === Thumbnail) {\n        return item;\n      }\n      return null;\n    });\n\n    if (this.props.floatingLabel && icon.length) {\n      let flag = true;\n      let isIcon = false;\n\n      for (let i = 0; i < this.props.children.length; i++) {\n        if (\n          this.props.children[i].props.name &&\n          this.props.children[i].type.displayName !== 'Styled(Input)'\n        ) {\n          isIcon = true;\n          newChildren.push(\n            <Icon key={[i]} {...this.props.children[i].props} />\n          );\n        }\n\n        if (\n          (this.props.children[i].props.children ||\n            this.props.children[i].props.placeholder) &&\n          flag\n        ) {\n          flag = false;\n\n          newChildren.push(\n            <Animated.View\n              key=\"float\"\n              style={{\n                position: 'absolute',\n                left:\n                  this.props.last && isIcon\n                    ? 40\n                    : this.props.last\n                    ? 15\n                    : isIcon\n                    ? 26\n                    : 0,\n                right: 0,\n                top: this.state.topAnim,\n                opacity: this.state.opacAnim,\n                paddingTop: Platform.OS === 'ios' ? undefined : undefined,\n                paddingBottom: Platform.OS === 'ios' ? undefined : 12\n              }}\n            >\n              <Label {...labelProps}>\n                {this.renderLabel(label, labelProps)}\n              </Label>\n            </Animated.View>\n          );\n\n          newChildren.push(\n            <Input\n              ref={c => (this._inputRef = c)}\n              key=\"l2\"\n              {...inputProps}\n              placeholder={this.getPlacholderValue(inputProps)}\n              onFocus={() => {\n                this.setState({ isFocused: true });\n                if (inputProps.onFocus) {\n                  inputProps.onFocus();\n                }\n              }}\n              onBlur={e => {\n                if (inputProps.value) {\n                  this.setState({\n                    isFocused: true\n                  });\n                } else if (!this.state.text.length) {\n                  this.setState({ isFocused: false });\n                }\n\n                if (inputProps.onBlur) {\n                  inputProps.onBlur(e);\n                }\n              }}\n              onChangeText={text => {\n                this.setState({ text });\n                if (inputProps.onChangeText) {\n                  inputProps.onChangeText(text);\n                }\n              }}\n            />\n          );\n        }\n      }\n    } else if (this.props.floatingLabel && image.length) {\n      let isImage = false;\n      for (let i = 0; i < this.props.children.length; i++) {\n        if (this.props.children[i].type.displayName === 'Styled(Thumbnail)') {\n          isImage = true;\n\n          newChildren.push(\n            <Thumbnail\n              small\n              key={[i]}\n              {...this.props.children[i].props}\n              style={{\n                right: 10,\n                left: i === this.props.children.length - 1 ? undefined : 0\n              }}\n            />\n          );\n        }\n\n        if (this.props.children[i].props.children) {\n          newChildren.push(\n            <Animated.View\n              key=\"float\"\n              style={{\n                position: 'absolute',\n                left:\n                  this.props.last && isImage\n                    ? 57\n                    : this.props.last\n                    ? 15\n                    : isImage\n                    ? 42\n                    : 0,\n                right: 0,\n                top: this.state.topAnim,\n                opacity: this.state.opacAnim,\n                paddingTop: Platform.OS === 'ios' ? undefined : undefined,\n                paddingBottom: Platform.OS === 'ios' ? undefined : 12\n              }}\n            >\n              <Label {...labelProps}>\n                {this.renderLabel(label, labelProps)}\n              </Label>\n            </Animated.View>\n          );\n\n          newChildren.push(\n            <Input\n              ref={c => (this._inputRef = c)}\n              key=\"l2\"\n              {...inputProps}\n              placeholder={this.getPlacholderValue(inputProps)}\n              onFocus={() => {\n                this.setState({ isFocused: true });\n                inputProps.onFocus && inputProps.onFocus();\n              }}\n              onBlur={e => {\n                inputProps.value\n                  ? this.setState({\n                    isFocused: true\n                  })\n                  : !this.state.text.length &&\n                    this.setState({ isFocused: false });\n                inputProps.onBlur && inputProps.onBlur(e);\n              }}\n              onChangeText={text => {\n                this.setState({ text });\n                inputProps.onChangeText && inputProps.onChangeText(text);\n              }}\n              style={{\n                left:\n                  this.props.last && isImage\n                    ? 10\n                    : this.props.last\n                    ? 4\n                    : isImage\n                    ? 10\n                    : 0,\n                marginRight: 12\n              }}\n            />\n          );\n        }\n      }\n    } else if (this.props.floatingLabel) {\n      newChildren.push(\n        <Animated.View\n          key=\"float\"\n          style={{\n            position: 'absolute',\n            left: this.props.last ? 15 : 0,\n            right: 0,\n            top: this.state.topAnim,\n            opacity: this.state.opacAnim,\n            paddingTop: Platform.OS === 'ios' ? undefined : undefined,\n            paddingBottom: Platform.OS === 'ios' ? undefined : 12\n          }}\n        >\n          <Label {...labelProps}>{this.renderLabel(label, labelProps)}</Label>\n        </Animated.View>\n      );\n\n      newChildren.push(\n        <Input\n          ref={c => (this._inputRef = c)}\n          value={this.state.text}\n          key=\"l2\"\n          {...inputProps}\n          placeholder={this.getPlacholderValue(inputProps)}\n          onFocus={() => {\n            this.setState({ isFocused: true });\n            inputProps.onFocus && inputProps.onFocus();\n          }}\n          onBlur={e => {\n            inputProps.value\n              ? this.setState({\n                isFocused: true\n              })\n              : !this.state.text.length && this.setState({ isFocused: false });\n            inputProps.onBlur && inputProps.onBlur(e);\n          }}\n          onChangeText={text => {\n            this.setState({ text });\n            inputProps.onChangeText && inputProps.onChangeText(text);\n          }}\n        />\n      );\n    } else if (this.props.stackedLabel && icon.length) {\n      newChildren.push(\n        <View\n          key=\"s\"\n          style={{\n            flexDirection: 'row',\n            flex: 1,\n            width: variables.deviceWidth - 15\n          }}\n        >\n          <Icon key=\"s1\" {...iconProps} />\n          <View style={{ flexDirection: 'column' }}>\n            <Label key=\"s2\" {...labelProps} />\n            <Input\n              key=\"s3\"\n              {...inputProps}\n              style={{ width: variables.deviceWidth - 40 }}\n            />\n          </View>\n        </View>\n      );\n    } else {\n      return this.props.children;\n    }\n    return newChildren;\n  }\n\n  renderLabel(label, labelProps) {\n    const newLabel = [];\n    const labelStyle = StyleSheet.flatten([\n      { fontSize: 15, lineHeight: 30 },\n      labelProps.style\n    ]);\n    if (this.props.floatingLabel) {\n      if (this.state.isFocused) {\n        newLabel.push(\n          React.createElement(Label, {\n            ...labelProps,\n            key: 'newFLabel',\n            float: true,\n            style: labelStyle\n          })\n        );\n        this.floatUp(-16);\n      } else {\n        newLabel.push(label);\n        this.floatBack(labelProps.floatBack);\n      }\n    } else {\n      newLabel.push(\n        React.createElement(Label, {\n          ...labelProps,\n          key: 'newLabel'\n        })\n      );\n    }\n    return newLabel;\n  }\n\n  render() {\n    return (\n      <TouchableOpacity\n        ref={c => (this._root = c)}\n        {...this.prepareRootProps()}\n        activeOpacity={1}\n      >\n        {this.renderChildren()}\n      </TouchableOpacity>\n    );\n  }\n}\n\nItem.propTypes = {\n  ...TouchableOpacity.propTypes,\n  style: PropTypes.oneOfType([\n    PropTypes.object,\n    PropTypes.number,\n    PropTypes.array\n  ]),\n  inlineLabel: PropTypes.bool,\n  floatingLabel: PropTypes.bool,\n  stackedLabel: PropTypes.bool,\n  fixedLabel: PropTypes.bool,\n  success: PropTypes.bool,\n  error: PropTypes.bool\n};\n\nconst StyledItem = connectStyle('NativeBase.Item', {}, mapPropsToStyleNames)(\n  Item\n);\n\nexport { StyledItem as Item };\n"]},"metadata":{},"sourceType":"script"}