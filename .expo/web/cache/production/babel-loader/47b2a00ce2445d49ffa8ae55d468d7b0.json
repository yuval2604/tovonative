{"ast":null,"code":"import Dimensions from\"react-native-web/dist/exports/Dimensions\";import I18nManager from\"react-native-web/dist/exports/I18nManager\";import getSceneIndicesForInterpolationInputRange from\"../../utils/getSceneIndicesForInterpolationInputRange\";function hasHeader(scene){if(!scene){return true;}var descriptor=scene.descriptor;return descriptor.options.header!==null;}var crossFadeInterpolation=function crossFadeInterpolation(scenes,first,index,last){return{inputRange:[first,first+0.001,index-0.9,index-0.2,index,last-0.001,last],outputRange:[0,hasHeader(scenes[first])?0:1,hasHeader(scenes[first])?0:1,hasHeader(scenes[first])?0.3:1,hasHeader(scenes[index])?1:0,hasHeader(scenes[last])?0:1,0],extrapolate:'clamp'};};function isGoingBack(scenes){var lastSceneIndexInScenes=scenes.length-1;return!scenes[lastSceneIndexInScenes].isActive;}function forLayout(props){var layout=props.layout,position=props.position,scene=props.scene,scenes=props.scenes,mode=props.mode;if(mode!=='float'){return{};}var isBack=isGoingBack(scenes);var interpolate=getSceneIndicesForInterpolationInputRange(props);if(!interpolate)return{};var first=interpolate.first,last=interpolate.last;var index=scene.index;var width=layout.initWidth||Dimensions.get('window').width;if(isBack&&!hasHeader(scenes[index])&&!hasHeader(scenes[last])||!isBack&&!hasHeader(scenes[first])&&!hasHeader(scenes[index])){return{transform:[{translateX:width}]};}var rtlMult=I18nManager.isRTL?-1:1;var translateX=position.interpolate({inputRange:[first,index,last],outputRange:[rtlMult*(hasHeader(scenes[first])?0:width),rtlMult*(hasHeader(scenes[index])?0:isBack?width:-width),rtlMult*(hasHeader(scenes[last])?0:-width)],extrapolate:'clamp'});return{transform:[{translateX:translateX}]};}function forLeft(props){var position=props.position,scene=props.scene,scenes=props.scenes;var interpolate=getSceneIndicesForInterpolationInputRange(props);if(!interpolate)return{opacity:0};var first=interpolate.first,last=interpolate.last;var index=scene.index;return{opacity:position.interpolate(crossFadeInterpolation(scenes,first,index,last))};}function forCenter(props){var position=props.position,scene=props.scene,scenes=props.scenes;var interpolate=getSceneIndicesForInterpolationInputRange(props);if(!interpolate)return{opacity:0};var first=interpolate.first,last=interpolate.last;var index=scene.index;return{opacity:position.interpolate(crossFadeInterpolation(scenes,first,index,last))};}function forRight(props){var position=props.position,scene=props.scene,scenes=props.scenes;var interpolate=getSceneIndicesForInterpolationInputRange(props);if(!interpolate)return{opacity:0};var first=interpolate.first,last=interpolate.last;var index=scene.index;return{opacity:position.interpolate(crossFadeInterpolation(scenes,first,index,last))};}function forLeftButton(props){var position=props.position,scene=props.scene,scenes=props.scenes;var interpolate=getSceneIndicesForInterpolationInputRange(props);if(!interpolate)return{opacity:0};var first=interpolate.first,last=interpolate.last;var index=scene.index;var inputRange=[first,first+0.001,first+Math.abs(index-first)/2,index,last-Math.abs(last-index)/2,last-0.001,last];var outputRange=[0,hasHeader(scenes[first])?0:1,hasHeader(scenes[first])?0.3:1,hasHeader(scenes[index])?1:0,hasHeader(scenes[last])?0.3:1,hasHeader(scenes[last])?0:1,0];return{opacity:position.interpolate({inputRange:inputRange,outputRange:outputRange,extrapolate:'clamp'})};}var LEFT_LABEL_OFFSET=Dimensions.get('window').width/2-70-25;function forLeftLabel(props){var position=props.position,scene=props.scene,scenes=props.scenes;var interpolate=getSceneIndicesForInterpolationInputRange(props);if(!interpolate)return{opacity:0};var first=interpolate.first,last=interpolate.last;var index=scene.index;var offset=LEFT_LABEL_OFFSET;return{opacity:position.interpolate({inputRange:[first,first+0.001,index-0.35,index,index+0.5,last-0.001,last],outputRange:[0,hasHeader(scenes[first])?0:1,hasHeader(scenes[first])?0:1,hasHeader(scenes[index])?1:0,hasHeader(scenes[last])?0.5:1,hasHeader(scenes[last])?0:1,0],extrapolate:'clamp'}),transform:[{translateX:position.interpolate({inputRange:[first,first+0.001,index,last-0.001,last],outputRange:I18nManager.isRTL?[-offset*1.5,hasHeader(scenes[first])?-offset*1.5:0,0,hasHeader(scenes[last])?offset:0,offset]:[offset,hasHeader(scenes[first])?offset:0,0,hasHeader(scenes[last])?-offset*1.5:0,-offset*1.5],extrapolate:'clamp'})}]};}var TITLE_OFFSET_IOS=Dimensions.get('window').width/2-70+25;function forCenterFromLeft(props){var position=props.position,scene=props.scene,scenes=props.scenes;var interpolate=getSceneIndicesForInterpolationInputRange(props);if(!interpolate)return{opacity:0};var first=interpolate.first,last=interpolate.last;var index=scene.index;var offset=TITLE_OFFSET_IOS;return{opacity:position.interpolate({inputRange:[first,first+0.001,index-0.5,index,index+0.7,last-0.001,last],outputRange:[0,hasHeader(scenes[first])?0:1,hasHeader(scenes[first])?0:1,hasHeader(scenes[index])?1:0,hasHeader(scenes[last])?0:1,hasHeader(scenes[last])?0:1,0],extrapolate:'clamp'}),transform:[{translateX:position.interpolate({inputRange:[first,first+0.001,index,last-0.001,last],outputRange:I18nManager.isRTL?[-offset,hasHeader(scenes[first])?-offset:0,0,hasHeader(scenes[last])?offset:0,offset]:[offset,hasHeader(scenes[first])?offset:0,0,hasHeader(scenes[last])?-offset:0,-offset],extrapolate:'clamp'})}]};}function forBackgroundWithFade(props){var position=props.position,scene=props.scene;var sceneRange=getSceneIndicesForInterpolationInputRange(props);if(!sceneRange)return{opacity:0};return{opacity:position.interpolate({inputRange:[sceneRange.first,scene.index,sceneRange.last],outputRange:[0,1,0],extrapolate:'clamp'})};}var VISIBLE={opacity:1};var HIDDEN={opacity:0};function forBackgroundWithInactiveHidden(_ref){var navigation=_ref.navigation,scene=_ref.scene;return navigation.state.index===scene.index?VISIBLE:HIDDEN;}var BACKGROUND_OFFSET=Dimensions.get('window').width;function forBackgroundWithTranslation(props){var position=props.position,scene=props.scene;var interpolate=getSceneIndicesForInterpolationInputRange(props);if(!interpolate)return{opacity:0};var first=interpolate.first,last=interpolate.last;var index=scene.index;var offset=BACKGROUND_OFFSET;var outputRange=[offset,0,-offset];return{transform:[{translateX:position.interpolate({inputRange:[first,index,last],outputRange:I18nManager.isRTL?outputRange.reverse():outputRange,extrapolate:'clamp'})}]};}var forBackground=forBackgroundWithInactiveHidden;export default{forLayout:forLayout,forLeft:forLeft,forLeftButton:forLeftButton,forLeftLabel:forLeftLabel,forCenterFromLeft:forCenterFromLeft,forCenter:forCenter,forRight:forRight,forBackground:forBackground,forBackgroundWithInactiveHidden:forBackgroundWithInactiveHidden,forBackgroundWithFade:forBackgroundWithFade,forBackgroundWithTranslation:forBackgroundWithTranslation};","map":{"version":3,"sources":["HeaderStyleInterpolator.tsx"],"names":["descriptor","scene","crossFadeInterpolation","inputRange","first","index","last","outputRange","hasHeader","scenes","extrapolate","lastSceneIndexInScenes","layout","position","mode","props","isBack","isGoingBack","interpolate","getSceneIndicesForInterpolationInputRange","width","Dimensions","transform","translateX","rtlMult","I18nManager","opacity","Math","LEFT_LABEL_OFFSET","offset","TITLE_OFFSET_IOS","sceneRange","VISIBLE","HIDDEN","navigation","BACKGROUND_OFFSET","forBackground","forLayout","forLeft","forLeftButton","forLeftLabel","forCenterFromLeft","forCenter","forRight","forBackgroundWithInactiveHidden","forBackgroundWithFade","forBackgroundWithTranslation"],"mappings":"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","sourcesContent":["import { Dimensions, I18nManager } from 'react-native';\nimport getSceneIndicesForInterpolationInputRange from '../../utils/getSceneIndicesForInterpolationInputRange';\nimport { Scene, SceneInterpolatorProps } from '../../types';\n\nfunction hasHeader(scene: Scene) {\n  if (!scene) {\n    return true;\n  }\n  const { descriptor } = scene;\n  return descriptor.options.header !== null;\n}\n\nconst crossFadeInterpolation = (\n  scenes: Scene[],\n  first: number,\n  index: number,\n  last: number\n): { inputRange: number[]; outputRange: number[]; extrapolate: 'clamp' } => ({\n  inputRange: [\n    first,\n    first + 0.001,\n    index - 0.9,\n    index - 0.2,\n    index,\n    last - 0.001,\n    last,\n  ],\n  outputRange: [\n    0,\n    hasHeader(scenes[first]) ? 0 : 1,\n    hasHeader(scenes[first]) ? 0 : 1,\n    hasHeader(scenes[first]) ? 0.3 : 1,\n    hasHeader(scenes[index]) ? 1 : 0,\n    hasHeader(scenes[last]) ? 0 : 1,\n    0,\n  ],\n  extrapolate: 'clamp',\n});\n\n/**\n * Utilities that build the style for the navigation header.\n *\n * +-------------+-------------+-------------+\n * |             |             |             |\n * |    Left     |   Title     |   Right     |\n * |  Component  |  Component  | Component   |\n * |             |             |             |\n * +-------------+-------------+-------------+\n */\n\nfunction isGoingBack(scenes: Scene[]) {\n  const lastSceneIndexInScenes = scenes.length - 1;\n  return !scenes[lastSceneIndexInScenes].isActive;\n}\n\nfunction forLayout(props: SceneInterpolatorProps) {\n  const { layout, position, scene, scenes, mode } = props;\n  if (mode !== 'float') {\n    return {};\n  }\n  const isBack = isGoingBack(scenes);\n\n  const interpolate = getSceneIndicesForInterpolationInputRange(props);\n  if (!interpolate) return {};\n\n  const { first, last } = interpolate;\n  const index = scene.index;\n\n  // We really shouldn't render the scene at all until we know the width of the\n  // stack. That said, in every case that I have ever seen, this has just been\n  // the full width of the window. This won't continue to be true if we support\n  // layouts like iPad master-detail. For now, in order to solve\n  // https://github.com/react-navigation/react-navigation/issues/4264, I have\n  // opted for the heuristic that we will use the window width until we have\n  // measured (and they will usually be the same).\n  const width = layout.initWidth || Dimensions.get('window').width;\n\n  // Make sure the header stays hidden when transitioning between 2 screens\n  // with no header.\n  if (\n    (isBack && !hasHeader(scenes[index]) && !hasHeader(scenes[last])) ||\n    (!isBack && !hasHeader(scenes[first]) && !hasHeader(scenes[index]))\n  ) {\n    return {\n      transform: [{ translateX: width }],\n    };\n  }\n\n  const rtlMult = I18nManager.isRTL ? -1 : 1;\n  const translateX = position.interpolate({\n    inputRange: [first, index, last],\n    outputRange: [\n      rtlMult * (hasHeader(scenes[first]) ? 0 : width),\n      rtlMult * (hasHeader(scenes[index]) ? 0 : isBack ? width : -width),\n      rtlMult * (hasHeader(scenes[last]) ? 0 : -width),\n    ],\n    extrapolate: 'clamp',\n  });\n\n  return {\n    transform: [{ translateX }],\n  };\n}\n\nfunction forLeft(props: SceneInterpolatorProps) {\n  const { position, scene, scenes } = props;\n  const interpolate = getSceneIndicesForInterpolationInputRange(props);\n\n  if (!interpolate) return { opacity: 0 };\n\n  const { first, last } = interpolate;\n  const index = scene.index;\n\n  return {\n    opacity: position.interpolate(\n      crossFadeInterpolation(scenes, first, index, last)\n    ),\n  };\n}\n\nfunction forCenter(props: SceneInterpolatorProps) {\n  const { position, scene, scenes } = props;\n  const interpolate = getSceneIndicesForInterpolationInputRange(props);\n\n  if (!interpolate) return { opacity: 0 };\n\n  const { first, last } = interpolate;\n  const index = scene.index;\n\n  return {\n    opacity: position.interpolate(\n      crossFadeInterpolation(scenes, first, index, last)\n    ),\n  };\n}\n\nfunction forRight(props: SceneInterpolatorProps) {\n  const { position, scene, scenes } = props;\n  const interpolate = getSceneIndicesForInterpolationInputRange(props);\n\n  if (!interpolate) return { opacity: 0 };\n  const { first, last } = interpolate;\n  const index = scene.index;\n\n  return {\n    opacity: position.interpolate(\n      crossFadeInterpolation(scenes, first, index, last)\n    ),\n  };\n}\n\n/**\n * iOS UINavigationController style interpolators\n */\n\nfunction forLeftButton(props: SceneInterpolatorProps) {\n  const { position, scene, scenes } = props;\n  const interpolate = getSceneIndicesForInterpolationInputRange(props);\n\n  if (!interpolate) return { opacity: 0 };\n\n  const { first, last } = interpolate;\n  const index = scene.index;\n\n  // The gist of what we're doing here is animating the left button _normally_ (fast fade)\n  // when both scenes in transition have headers. When the current, next, or previous scene _don't_\n  // have a header, we don't fade the button, and only set it's opacity to 0 at the last moment\n  // of the transition.\n  const inputRange = [\n    first,\n    first + 0.001,\n    first + Math.abs(index - first) / 2,\n    index,\n    last - Math.abs(last - index) / 2,\n    last - 0.001,\n    last,\n  ];\n  const outputRange = [\n    0,\n    hasHeader(scenes[first]) ? 0 : 1,\n    hasHeader(scenes[first]) ? 0.3 : 1,\n    hasHeader(scenes[index]) ? 1 : 0,\n    hasHeader(scenes[last]) ? 0.3 : 1,\n    hasHeader(scenes[last]) ? 0 : 1,\n    0,\n  ];\n\n  return {\n    opacity: position.interpolate({\n      inputRange,\n      outputRange,\n      extrapolate: 'clamp',\n    }),\n  };\n}\n\n/*\n * NOTE: this offset calculation is an approximation that gives us\n * decent results in many cases, but it is ultimately a poor substitute\n * for text measurement. See the comment on title for more information.\n *\n * - 70 is the width of the left button area.\n * - 25 is the width of the left button icon (to account for label offset)\n */\nconst LEFT_LABEL_OFFSET = Dimensions.get('window').width / 2 - 70 - 25;\n\nfunction forLeftLabel(props: SceneInterpolatorProps) {\n  const { position, scene, scenes } = props;\n  const interpolate = getSceneIndicesForInterpolationInputRange(props);\n\n  if (!interpolate) return { opacity: 0 };\n\n  const { first, last } = interpolate;\n  const index = scene.index;\n\n  const offset = LEFT_LABEL_OFFSET;\n\n  // Similarly to the animation of the left label, when animating to or from a scene without\n  // a header, we keep the label at full opacity and in the same position for as long as possible.\n  return {\n    // For now we fade out the label before fading in the title, so the\n    // differences between the label and title position can be hopefully not so\n    // noticable to the user\n    opacity: position.interpolate({\n      inputRange: [\n        first,\n        first + 0.001,\n        index - 0.35,\n        index,\n        index + 0.5,\n        last - 0.001,\n        last,\n      ],\n      outputRange: [\n        0,\n        hasHeader(scenes[first]) ? 0 : 1,\n        hasHeader(scenes[first]) ? 0 : 1,\n        hasHeader(scenes[index]) ? 1 : 0,\n        hasHeader(scenes[last]) ? 0.5 : 1,\n        hasHeader(scenes[last]) ? 0 : 1,\n        0,\n      ],\n      extrapolate: 'clamp',\n    }),\n    transform: [\n      {\n        translateX: position.interpolate({\n          inputRange: [first, first + 0.001, index, last - 0.001, last],\n          outputRange: I18nManager.isRTL\n            ? [\n                -offset * 1.5,\n                hasHeader(scenes[first]) ? -offset * 1.5 : 0,\n                0,\n                hasHeader(scenes[last]) ? offset : 0,\n                offset,\n              ]\n            : [\n                offset,\n                hasHeader(scenes[first]) ? offset : 0,\n                0,\n                hasHeader(scenes[last]) ? -offset * 1.5 : 0,\n                -offset * 1.5,\n              ],\n          extrapolate: 'clamp',\n        }),\n      },\n    ],\n  };\n}\n\n/*\n * NOTE: this offset calculation is a an approximation that gives us\n * decent results in many cases, but it is ultimately a poor substitute\n * for text measurement. We want the back button label to transition\n * smoothly into the title text and to do this we need to understand\n * where the title is positioned within the title container (since it is\n * centered).\n *\n * - 70 is the width of the left button area.\n * - 25 is the width of the left button icon (to account for label offset)\n */\nconst TITLE_OFFSET_IOS = Dimensions.get('window').width / 2 - 70 + 25;\n\nfunction forCenterFromLeft(props: SceneInterpolatorProps) {\n  const { position, scene, scenes } = props;\n  const interpolate = getSceneIndicesForInterpolationInputRange(props);\n\n  if (!interpolate) return { opacity: 0 };\n\n  const { first, last } = interpolate;\n  const index = scene.index;\n  const offset = TITLE_OFFSET_IOS;\n\n  return {\n    opacity: position.interpolate({\n      inputRange: [\n        first,\n        first + 0.001,\n        index - 0.5,\n        index,\n        index + 0.7,\n        last - 0.001,\n        last,\n      ],\n      outputRange: [\n        0,\n        hasHeader(scenes[first]) ? 0 : 1,\n        hasHeader(scenes[first]) ? 0 : 1,\n        hasHeader(scenes[index]) ? 1 : 0,\n        hasHeader(scenes[last]) ? 0 : 1,\n        hasHeader(scenes[last]) ? 0 : 1,\n        0,\n      ],\n      extrapolate: 'clamp',\n    }),\n    transform: [\n      {\n        translateX: position.interpolate({\n          inputRange: [first, first + 0.001, index, last - 0.001, last],\n          outputRange: I18nManager.isRTL\n            ? [\n                -offset,\n                hasHeader(scenes[first]) ? -offset : 0,\n                0,\n                hasHeader(scenes[last]) ? offset : 0,\n                offset,\n              ]\n            : [\n                offset,\n                hasHeader(scenes[first]) ? offset : 0,\n                0,\n                hasHeader(scenes[last]) ? -offset : 0,\n                -offset,\n              ],\n          extrapolate: 'clamp',\n        }),\n      },\n    ],\n  };\n}\n\n// Fade in background of header while transitioning\nfunction forBackgroundWithFade(props: SceneInterpolatorProps) {\n  const { position, scene } = props;\n  const sceneRange = getSceneIndicesForInterpolationInputRange(props);\n  if (!sceneRange) return { opacity: 0 };\n  return {\n    opacity: position.interpolate({\n      inputRange: [sceneRange.first, scene.index, sceneRange.last],\n      outputRange: [0, 1, 0],\n      extrapolate: 'clamp',\n    }),\n  };\n}\n\nconst VISIBLE = { opacity: 1 };\nconst HIDDEN = { opacity: 0 };\n\n// Toggle visibility of header without fading\nfunction forBackgroundWithInactiveHidden({\n  navigation,\n  scene,\n}: SceneInterpolatorProps) {\n  return navigation.state.index === scene.index ? VISIBLE : HIDDEN;\n}\n\n// Translate the background with the card\nconst BACKGROUND_OFFSET = Dimensions.get('window').width;\n\nfunction forBackgroundWithTranslation(props: SceneInterpolatorProps) {\n  const { position, scene } = props;\n  const interpolate = getSceneIndicesForInterpolationInputRange(props);\n  if (!interpolate) return { opacity: 0 };\n  const { first, last } = interpolate;\n  const index = scene.index;\n  const offset = BACKGROUND_OFFSET;\n  const outputRange = [offset, 0, -offset];\n  return {\n    transform: [\n      {\n        translateX: position.interpolate({\n          inputRange: [first, index, last],\n          outputRange: I18nManager.isRTL ? outputRange.reverse() : outputRange,\n          extrapolate: 'clamp',\n        }),\n      },\n    ],\n  };\n}\n\n// Default to fade transition\nconst forBackground = forBackgroundWithInactiveHidden;\n\nexport default {\n  forLayout,\n  forLeft,\n  forLeftButton,\n  forLeftLabel,\n  forCenterFromLeft,\n  forCenter,\n  forRight,\n  forBackground,\n  forBackgroundWithInactiveHidden,\n  forBackgroundWithFade,\n  forBackgroundWithTranslation,\n};\n"]},"metadata":{},"sourceType":"module"}