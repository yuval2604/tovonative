{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";import _inherits from\"@babel/runtime/helpers/inherits\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import*as React from'react';import PropTypes from'prop-types';import View from\"react-native-web/dist/exports/View\";import ScrollView from\"react-native-web/dist/exports/ScrollView\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import{PagerRendererPropType}from\"./PropTypes\";var PagerScroll=function(_React$Component){_inherits(PagerScroll,_React$Component);function PagerScroll(props){var _this;_classCallCheck(this,PagerScroll);_this=_possibleConstructorReturn(this,_getPrototypeOf(PagerScroll).call(this,props));_this._isIdle=true;_this._isInitial=true;_this._setInitialPage=function(){if(_this.props.layout.width){_this._isInitial=true;_this._scrollTo(_this.props.navigationState.index*_this.props.layout.width,false);}setTimeout(function(){_this._isInitial=false;},50);};_this._scrollTo=function(x){var animated=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(_this._isIdle&&_this._scrollView){_this._scrollView.scrollTo({x:x,animated:animated&&_this.props.animationEnabled!==false});}};_this._handleMomentumScrollEnd=function(e){var nextIndex=Math.round(e.nativeEvent.contentOffset.x/_this.props.layout.width);var nextRoute=_this.props.navigationState.routes[nextIndex];if(_this.props.canJumpToTab({route:nextRoute})){_this.props.jumpTo(nextRoute.key);_this.props.onAnimationEnd&&_this.props.onAnimationEnd();}else{global.requestAnimationFrame(function(){_this._scrollTo(_this.props.navigationState.index*_this.props.layout.width);});}};_this._handleScroll=function(e){if(_this._isInitial||e.nativeEvent.contentSize.width===0){return;}var _this$props=_this.props,navigationState=_this$props.navigationState,layout=_this$props.layout;var offset=navigationState.index*layout.width;_this.props.offsetX.setValue(-offset);_this.props.panX.setValue(offset-e.nativeEvent.contentOffset.x);global.cancelAnimationFrame(_this._idleCallback);_this._isIdle=false;_this._idleCallback=global.requestAnimationFrame(function(){_this._isIdle=true;});};var _this$props2=_this.props,_navigationState=_this$props2.navigationState,_layout=_this$props2.layout;_this.state={initialOffset:{x:_navigationState.index*_layout.width,y:0}};return _this;}_createClass(PagerScroll,[{key:\"componentDidMount\",value:function componentDidMount(){this._setInitialPage();}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){var amount=this.props.navigationState.index*this.props.layout.width;if(prevProps.navigationState.routes.length!==this.props.navigationState.routes.length||prevProps.layout.width!==this.props.layout.width){this._scrollTo(amount,false);}else if(prevProps.navigationState.index!==this.props.navigationState.index){this._scrollTo(amount);}}},{key:\"render\",value:function render(){var _this2=this;var _this$props3=this.props,children=_this$props3.children,layout=_this$props3.layout,navigationState=_this$props3.navigationState,onSwipeStart=_this$props3.onSwipeStart,onSwipeEnd=_this$props3.onSwipeEnd,bounces=_this$props3.bounces;return React.createElement(ScrollView,{horizontal:true,pagingEnabled:true,directionalLockEnabled:true,keyboardDismissMode:\"on-drag\",keyboardShouldPersistTaps:\"always\",overScrollMode:\"never\",scrollToOverflowEnabled:true,scrollEnabled:this.props.swipeEnabled,automaticallyAdjustContentInsets:false,bounces:bounces,alwaysBounceHorizontal:bounces,scrollsToTop:false,showsHorizontalScrollIndicator:false,scrollEventThrottle:1,onScroll:this._handleScroll,onScrollBeginDrag:onSwipeStart,onScrollEndDrag:onSwipeEnd,onMomentumScrollEnd:this._handleMomentumScrollEnd,contentOffset:this.state.initialOffset,style:styles.container,contentContainerStyle:layout.width?null:styles.container,ref:function ref(el){return _this2._scrollView=el;}},React.Children.map(children,function(child,i){var route=navigationState.routes[i];var focused=i===navigationState.index;return React.createElement(View,{key:route.key,testID:_this2.props.getTestID({route:route}),accessibilityElementsHidden:!focused,importantForAccessibility:focused?'auto':'no-hide-descendants',style:layout.width?{width:layout.width,overflow:'hidden'}:focused?styles.page:null},focused||layout.width?child:null);}));}}]);return PagerScroll;}(React.Component);PagerScroll.propTypes=_objectSpread({},PagerRendererPropType,{bounces:PropTypes.bool.isRequired});PagerScroll.defaultProps={canJumpToTab:function canJumpToTab(){return true;},bounces:false};export{PagerScroll as default};var styles=StyleSheet.create({container:{flex:1},page:{flex:1,overflow:'hidden'}});","map":{"version":3,"sources":["/Users/user/Documents/codecanyon-B1UUUVLW-harrier-react-native-ecommerce-ui-kit-template/eCommerce2/node_modules/react-native-tab-view/src/PagerScroll.js"],"names":["React","PropTypes","PagerRendererPropType","PagerScroll","props","_isIdle","_isInitial","_setInitialPage","layout","width","_scrollTo","navigationState","index","setTimeout","x","animated","_scrollView","scrollTo","animationEnabled","_handleMomentumScrollEnd","e","nextIndex","Math","round","nativeEvent","contentOffset","nextRoute","routes","canJumpToTab","route","jumpTo","key","onAnimationEnd","global","requestAnimationFrame","_handleScroll","contentSize","offset","offsetX","setValue","panX","cancelAnimationFrame","_idleCallback","state","initialOffset","y","prevProps","amount","length","children","onSwipeStart","onSwipeEnd","bounces","swipeEnabled","styles","container","el","Children","map","child","i","focused","getTestID","overflow","page","Component","propTypes","bool","isRequired","defaultProps","StyleSheet","create","flex"],"mappings":"krCAEA,MAAO,GAAKA,CAAAA,KAAZ,KAAuB,OAAvB,CACA,MAAOC,CAAAA,SAAP,KAAsB,YAAtB,C,uLAEA,OAASC,qBAAT,mB,GAwBqBC,CAAAA,W,oEAcnB,qBAAYC,KAAZ,CAA6B,6CAC3B,6EAAMA,KAAN,GAD2B,MAmC7BC,OAnC6B,CAmCV,IAnCU,OAoC7BC,UApC6B,CAoCP,IApCO,OAsC7BC,eAtC6B,CAsCX,UAAM,CACtB,GAAI,MAAKH,KAAL,CAAWI,MAAX,CAAkBC,KAAtB,CAA6B,CAC3B,MAAKH,UAAL,CAAkB,IAAlB,CACA,MAAKI,SAAL,CACE,MAAKN,KAAL,CAAWO,eAAX,CAA2BC,KAA3B,CAAmC,MAAKR,KAAL,CAAWI,MAAX,CAAkBC,KADvD,CAEE,KAFF,EAID,CAEDI,UAAU,CAAC,UAAM,CACf,MAAKP,UAAL,CAAkB,KAAlB,CACD,CAFS,CAEP,EAFO,CAAV,CAGD,CAlD4B,OAoD7BI,SApD6B,CAoDjB,SAACI,CAAD,CAAgC,IAApBC,CAAAA,QAAoB,2DAAT,IAAS,CAC1C,GAAI,MAAKV,OAAL,EAAgB,MAAKW,WAAzB,CAAsC,CACpC,MAAKA,WAAL,CAAiBC,QAAjB,CAA0B,CACxBH,CAAC,CAADA,CADwB,CAExBC,QAAQ,CAAEA,QAAQ,EAAI,MAAKX,KAAL,CAAWc,gBAAX,GAAgC,KAF9B,CAA1B,EAID,CACF,CA3D4B,OA6D7BC,wBA7D6B,CA6DF,SAACC,CAAD,CAAoB,CAC7C,GAAIC,CAAAA,SAAS,CAAGC,IAAI,CAACC,KAAL,CACdH,CAAC,CAACI,WAAF,CAAcC,aAAd,CAA4BX,CAA5B,CAAgC,MAAKV,KAAL,CAAWI,MAAX,CAAkBC,KADpC,CAAhB,CAIA,GAAMiB,CAAAA,SAAS,CAAG,MAAKtB,KAAL,CAAWO,eAAX,CAA2BgB,MAA3B,CAAkCN,SAAlC,CAAlB,CAEA,GAAI,MAAKjB,KAAL,CAAWwB,YAAX,CAAwB,CAAEC,KAAK,CAAEH,SAAT,CAAxB,CAAJ,CAAmD,CACjD,MAAKtB,KAAL,CAAW0B,MAAX,CAAkBJ,SAAS,CAACK,GAA5B,EACA,MAAK3B,KAAL,CAAW4B,cAAX,EAA6B,MAAK5B,KAAL,CAAW4B,cAAX,EAA7B,CACD,CAHD,IAGO,CACLC,MAAM,CAACC,qBAAP,CAA6B,UAAM,CACjC,MAAKxB,SAAL,CACE,MAAKN,KAAL,CAAWO,eAAX,CAA2BC,KAA3B,CAAmC,MAAKR,KAAL,CAAWI,MAAX,CAAkBC,KADvD,EAGD,CAJD,EAKD,CACF,CA9E4B,OAgF7B0B,aAhF6B,CAgFb,SAACf,CAAD,CAAoB,CAClC,GAAI,MAAKd,UAAL,EAAmBc,CAAC,CAACI,WAAF,CAAcY,WAAd,CAA0B3B,KAA1B,GAAoC,CAA3D,CAA8D,CAC5D,OACD,CAHiC,gBAKE,MAAKL,KALP,CAK1BO,eAL0B,aAK1BA,eAL0B,CAKTH,MALS,aAKTA,MALS,CAMlC,GAAM6B,CAAAA,MAAM,CAAG1B,eAAe,CAACC,KAAhB,CAAwBJ,MAAM,CAACC,KAA9C,CAEA,MAAKL,KAAL,CAAWkC,OAAX,CAAmBC,QAAnB,CAA4B,CAACF,MAA7B,EACA,MAAKjC,KAAL,CAAWoC,IAAX,CAAgBD,QAAhB,CAAyBF,MAAM,CAAGjB,CAAC,CAACI,WAAF,CAAcC,aAAd,CAA4BX,CAA9D,EAEAmB,MAAM,CAACQ,oBAAP,CAA4B,MAAKC,aAAjC,EAEA,MAAKrC,OAAL,CAAe,KAAf,CACA,MAAKqC,aAAL,CAAqBT,MAAM,CAACC,qBAAP,CAA6B,UAAM,CACtD,MAAK7B,OAAL,CAAe,IAAf,CACD,CAFoB,CAArB,CAGD,CAjG4B,kBAGS,MAAKD,KAHd,CAGnBO,gBAHmB,cAGnBA,eAHmB,CAGFH,OAHE,cAGFA,MAHE,CAK3B,MAAKmC,KAAL,CAAa,CACXC,aAAa,CAAE,CACb9B,CAAC,CAAEH,gBAAe,CAACC,KAAhB,CAAwBJ,OAAM,CAACC,KADrB,CAEboC,CAAC,CAAE,CAFU,CADJ,CAAb,CAL2B,aAW5B,C,qFAEmB,CAClB,KAAKtC,eAAL,GACD,C,8DAEkBuC,S,CAAqB,CACtC,GAAMC,CAAAA,MAAM,CAAG,KAAK3C,KAAL,CAAWO,eAAX,CAA2BC,KAA3B,CAAmC,KAAKR,KAAL,CAAWI,MAAX,CAAkBC,KAApE,CAEA,GACEqC,SAAS,CAACnC,eAAV,CAA0BgB,MAA1B,CAAiCqB,MAAjC,GACE,KAAK5C,KAAL,CAAWO,eAAX,CAA2BgB,MAA3B,CAAkCqB,MADpC,EAEAF,SAAS,CAACtC,MAAV,CAAiBC,KAAjB,GAA2B,KAAKL,KAAL,CAAWI,MAAX,CAAkBC,KAH/C,CAIE,CACA,KAAKC,SAAL,CAAeqC,MAAf,CAAuB,KAAvB,EACD,CAND,IAMO,IACLD,SAAS,CAACnC,eAAV,CAA0BC,KAA1B,GAAoC,KAAKR,KAAL,CAAWO,eAAX,CAA2BC,KAD1D,CAEL,CACA,KAAKF,SAAL,CAAeqC,MAAf,EACD,CACF,C,uCAoEQ,kCAQH,KAAK3C,KARF,CAEL6C,QAFK,cAELA,QAFK,CAGLzC,MAHK,cAGLA,MAHK,CAILG,eAJK,cAILA,eAJK,CAKLuC,YALK,cAKLA,YALK,CAMLC,UANK,cAMLA,UANK,CAOLC,OAPK,cAOLA,OAPK,CAUP,MACE,qBAAC,UAAD,EACE,UAAU,KADZ,CAEE,aAAa,KAFf,CAGE,sBAAsB,KAHxB,CAIE,mBAAmB,CAAC,SAJtB,CAKE,yBAAyB,CAAC,QAL5B,CAME,cAAc,CAAC,OANjB,CAOE,uBAAuB,KAPzB,CAQE,aAAa,CAAE,KAAKhD,KAAL,CAAWiD,YAR5B,CASE,gCAAgC,CAAE,KATpC,CAUE,OAAO,CAAED,OAVX,CAWE,sBAAsB,CAAEA,OAX1B,CAYE,YAAY,CAAE,KAZhB,CAaE,8BAA8B,CAAE,KAblC,CAcE,mBAAmB,CAAE,CAdvB,CAeE,QAAQ,CAAE,KAAKjB,aAfjB,CAgBE,iBAAiB,CAAEe,YAhBrB,CAiBE,eAAe,CAAEC,UAjBnB,CAkBE,mBAAmB,CAAE,KAAKhC,wBAlB5B,CAmBE,aAAa,CAAE,KAAKwB,KAAL,CAAWC,aAnB5B,CAoBE,KAAK,CAAEU,MAAM,CAACC,SApBhB,CAqBE,qBAAqB,CAAE/C,MAAM,CAACC,KAAP,CAAe,IAAf,CAAsB6C,MAAM,CAACC,SArBtD,CAsBE,GAAG,CAAE,aAAAC,EAAE,QAAK,CAAA,MAAI,CAACxC,WAAL,CAAmBwC,EAAxB,EAtBT,EAwBGxD,KAAK,CAACyD,QAAN,CAAeC,GAAf,CAAmBT,QAAnB,CAA6B,SAACU,KAAD,CAAQC,CAAR,CAAc,CAC1C,GAAM/B,CAAAA,KAAK,CAAGlB,eAAe,CAACgB,MAAhB,CAAuBiC,CAAvB,CAAd,CACA,GAAMC,CAAAA,OAAO,CAAGD,CAAC,GAAKjD,eAAe,CAACC,KAAtC,CAEA,MACE,qBAAC,IAAD,EACE,GAAG,CAAEiB,KAAK,CAACE,GADb,CAEE,MAAM,CAAE,MAAI,CAAC3B,KAAL,CAAW0D,SAAX,CAAqB,CAAEjC,KAAK,CAALA,KAAF,CAArB,CAFV,CAGE,2BAA2B,CAAE,CAACgC,OAHhC,CAIE,yBAAyB,CACvBA,OAAO,CAAG,MAAH,CAAY,qBALvB,CAOE,KAAK,CACHrD,MAAM,CAACC,KAAP,CACI,CAAEA,KAAK,CAAED,MAAM,CAACC,KAAhB,CAAuBsD,QAAQ,CAAE,QAAjC,CADJ,CAEIF,OAAO,CACLP,MAAM,CAACU,IADF,CAEL,IAZV,EAeGH,OAAO,EAAIrD,MAAM,CAACC,KAAlB,CAA0BkD,KAA1B,CAAkC,IAfrC,CADF,CAmBD,CAvBA,CAxBH,CADF,CAmDD,C,yBA9K4C3D,KAAK,CAACiE,S,EAAhC9D,W,CAIZ+D,S,kBACFhE,qB,EACHkD,OAAO,CAAEnD,SAAS,CAACkE,IAAV,CAAeC,U,GANPjE,W,CASZkE,Y,CAAe,CACpBzC,YAAY,CAAE,8BAAM,KAAN,EADM,CAEpBwB,OAAO,CAAE,KAFW,C,QATHjD,W,aAiLrB,GAAMmD,CAAAA,MAAM,CAAGgB,UAAU,CAACC,MAAX,CAAkB,CAC/BhB,SAAS,CAAE,CACTiB,IAAI,CAAE,CADG,CADoB,CAI/BR,IAAI,CAAE,CACJQ,IAAI,CAAE,CADF,CAEJT,QAAQ,CAAE,QAFN,CAJyB,CAAlB,CAAf","sourcesContent":["/* @flow */\n\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { View, ScrollView, StyleSheet } from 'react-native';\nimport { PagerRendererPropType } from './PropTypes';\nimport type { PagerRendererProps } from './TypeDefinitions';\n\ntype ScrollEvent = {\n  nativeEvent: {\n    contentOffset: {\n      x: number,\n      y: number,\n    },\n    contentSize: {\n      height: number,\n      width: number,\n    },\n  },\n};\n\ntype State = {|\n  initialOffset: {| x: number, y: number |},\n|};\n\ntype Props<T> = PagerRendererProps<T> & {\n  bounces: boolean,\n};\n\nexport default class PagerScroll<T: *> extends React.Component<\n  Props<T>,\n  State\n> {\n  static propTypes = {\n    ...PagerRendererPropType,\n    bounces: PropTypes.bool.isRequired,\n  };\n\n  static defaultProps = {\n    canJumpToTab: () => true,\n    bounces: false,\n  };\n\n  constructor(props: Props<T>) {\n    super(props);\n\n    const { navigationState, layout } = this.props;\n\n    this.state = {\n      initialOffset: {\n        x: navigationState.index * layout.width,\n        y: 0,\n      },\n    };\n  }\n\n  componentDidMount() {\n    this._setInitialPage();\n  }\n\n  componentDidUpdate(prevProps: Props<T>) {\n    const amount = this.props.navigationState.index * this.props.layout.width;\n\n    if (\n      prevProps.navigationState.routes.length !==\n        this.props.navigationState.routes.length ||\n      prevProps.layout.width !== this.props.layout.width\n    ) {\n      this._scrollTo(amount, false);\n    } else if (\n      prevProps.navigationState.index !== this.props.navigationState.index\n    ) {\n      this._scrollTo(amount);\n    }\n  }\n\n  _scrollView: ?ScrollView;\n  _idleCallback: any;\n  _isIdle: boolean = true;\n  _isInitial: boolean = true;\n\n  _setInitialPage = () => {\n    if (this.props.layout.width) {\n      this._isInitial = true;\n      this._scrollTo(\n        this.props.navigationState.index * this.props.layout.width,\n        false\n      );\n    }\n\n    setTimeout(() => {\n      this._isInitial = false;\n    }, 50);\n  };\n\n  _scrollTo = (x: number, animated = true) => {\n    if (this._isIdle && this._scrollView) {\n      this._scrollView.scrollTo({\n        x,\n        animated: animated && this.props.animationEnabled !== false,\n      });\n    }\n  };\n\n  _handleMomentumScrollEnd = (e: ScrollEvent) => {\n    let nextIndex = Math.round(\n      e.nativeEvent.contentOffset.x / this.props.layout.width\n    );\n\n    const nextRoute = this.props.navigationState.routes[nextIndex];\n\n    if (this.props.canJumpToTab({ route: nextRoute })) {\n      this.props.jumpTo(nextRoute.key);\n      this.props.onAnimationEnd && this.props.onAnimationEnd();\n    } else {\n      global.requestAnimationFrame(() => {\n        this._scrollTo(\n          this.props.navigationState.index * this.props.layout.width\n        );\n      });\n    }\n  };\n\n  _handleScroll = (e: ScrollEvent) => {\n    if (this._isInitial || e.nativeEvent.contentSize.width === 0) {\n      return;\n    }\n\n    const { navigationState, layout } = this.props;\n    const offset = navigationState.index * layout.width;\n\n    this.props.offsetX.setValue(-offset);\n    this.props.panX.setValue(offset - e.nativeEvent.contentOffset.x);\n\n    global.cancelAnimationFrame(this._idleCallback);\n\n    this._isIdle = false;\n    this._idleCallback = global.requestAnimationFrame(() => {\n      this._isIdle = true;\n    });\n  };\n\n  render() {\n    const {\n      children,\n      layout,\n      navigationState,\n      onSwipeStart,\n      onSwipeEnd,\n      bounces,\n    } = this.props;\n\n    return (\n      <ScrollView\n        horizontal\n        pagingEnabled\n        directionalLockEnabled\n        keyboardDismissMode=\"on-drag\"\n        keyboardShouldPersistTaps=\"always\"\n        overScrollMode=\"never\"\n        scrollToOverflowEnabled\n        scrollEnabled={this.props.swipeEnabled}\n        automaticallyAdjustContentInsets={false}\n        bounces={bounces}\n        alwaysBounceHorizontal={bounces}\n        scrollsToTop={false}\n        showsHorizontalScrollIndicator={false}\n        scrollEventThrottle={1}\n        onScroll={this._handleScroll}\n        onScrollBeginDrag={onSwipeStart}\n        onScrollEndDrag={onSwipeEnd}\n        onMomentumScrollEnd={this._handleMomentumScrollEnd}\n        contentOffset={this.state.initialOffset}\n        style={styles.container}\n        contentContainerStyle={layout.width ? null : styles.container}\n        ref={el => (this._scrollView = el)}\n      >\n        {React.Children.map(children, (child, i) => {\n          const route = navigationState.routes[i];\n          const focused = i === navigationState.index;\n\n          return (\n            <View\n              key={route.key}\n              testID={this.props.getTestID({ route })}\n              accessibilityElementsHidden={!focused}\n              importantForAccessibility={\n                focused ? 'auto' : 'no-hide-descendants'\n              }\n              style={\n                layout.width\n                  ? { width: layout.width, overflow: 'hidden' }\n                  : focused\n                    ? styles.page\n                    : null\n              }\n            >\n              {focused || layout.width ? child : null}\n            </View>\n          );\n        })}\n      </ScrollView>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  page: {\n    flex: 1,\n    overflow: 'hidden',\n  },\n});\n"]},"metadata":{},"sourceType":"module"}