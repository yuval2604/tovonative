{"ast":null,"code":"Object.defineProperty(exports,\"__esModule\",{value:true});exports.ActionSheetContainer=undefined;var _jsxFileName='src/basic/Actionsheet.js';var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _propTypes=require('prop-types');var _propTypes2=_interopRequireDefault(_propTypes);var _react=require('react');var _react2=_interopRequireDefault(_react);var _reactNative=require(\"react-native-web/dist/index\");var _nativeBaseShoutemTheme=require('native-base-shoutem-theme');var _mapPropsToStyleNames=require(\"../utils/mapPropsToStyleNames\");var _mapPropsToStyleNames2=_interopRequireDefault(_mapPropsToStyleNames);var _commonColor=require(\"../theme/variables/commonColor\");var _commonColor2=_interopRequireDefault(_commonColor);var _Text=require(\"./Text\");var _Icon=require(\"./Icon\");var _Left=require(\"./Left\");var _Right=require(\"./Right\");var _Body=require(\"./Body\");var _ListItem=require(\"./ListItem\");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var ActionSheetContainer=function(_Component){_inherits(ActionSheetContainer,_Component);_createClass(ActionSheetContainer,null,[{key:'show',value:function show(config,callback){this.actionsheetInstance._root.showActionSheet(config,callback);}},{key:'hide',value:function hide(){this.actionsheetInstance._root.hideActionSheet();}}]);function ActionSheetContainer(props){_classCallCheck(this,ActionSheetContainer);var _this=_possibleConstructorReturn(this,(ActionSheetContainer.__proto__||Object.getPrototypeOf(ActionSheetContainer)).call(this,props));_this.state={modalVisible:false,items:[]};return _this;}_createClass(ActionSheetContainer,[{key:'componentDidMount',value:function componentDidMount(){if(!this.props.autoHide&&this.props.duration){console.warn('It\\'s not recommended to set autoHide false with duration');}}},{key:'showActionSheet',value:function showActionSheet(config,callback){if(_reactNative.Platform.OS===_commonColor.PLATFORM.IOS){if(typeof config.options[0]==='object'){var options=config.options;var filtered=options.map(function(item){return item.text;});var filteredConfig=_extends({},config,{options:filtered});_reactNative.ActionSheetIOS.showActionSheetWithOptions(filteredConfig,callback);}else{_reactNative.ActionSheetIOS.showActionSheetWithOptions(config,callback);}}else{this.setState({items:config.options,title:config.title,message:config.message,destructiveButtonIndex:config.destructiveButtonIndex,cancelButtonIndex:config.cancelButtonIndex,modalVisible:true,callback:callback});}}},{key:'hideActionSheet',value:function hideActionSheet(){this.setState({modalVisible:false});}},{key:'render',value:function render(){var _this2=this;return _react2.default.createElement(_reactNative.Modal,{animationType:'fade',transparent:true,visible:this.state.modalVisible,onRequestClose:function onRequestClose(){_this2.state.callback(_this2.state.cancelButtonIndex);_this2.setState({modalVisible:false});},__source:{fileName:_jsxFileName,lineNumber:82}},_react2.default.createElement(_reactNative.TouchableOpacity,{activeOpacity:1,onPress:function onPress(){_this2.state.callback(_this2.state.cancelButtonIndex);_this2.setState({modalVisible:false});},style:styles.containerTouchable,__source:{fileName:_jsxFileName,lineNumber:91}},_react2.default.createElement(_reactNative.TouchableOpacity,{activeOpacity:1,style:styles.innerTouchable,__source:{fileName:_jsxFileName,lineNumber:99}},this.state.title?_react2.default.createElement(_Text.Text,{style:styles.touchableText,__source:{fileName:_jsxFileName,lineNumber:101}},this.state.title):null,_react2.default.createElement(_reactNative.FlatList,{style:[styles.flatList,{marginTop:this.state.title?_commonColor2.default.marginTop:0}],data:this.state.items,keyExtractor:function keyExtractor(item,index){return String(index);},renderItem:function renderItem(_ref){var index=_ref.index,item=_ref.item;return typeof _this2.state.items[0]==='string'?_react2.default.createElement(_ListItem.ListItem,{onPress:function onPress(){_this2.state.callback(parseInt(index));_this2.setState({modalVisible:false});},style:styles.listItem,__source:{fileName:_jsxFileName,lineNumber:112}},_react2.default.createElement(_Text.Text,{__source:{fileName:_jsxFileName,lineNumber:119}},item)):_react2.default.createElement(_ListItem.ListItem,{onPress:function onPress(){_this2.state.callback(parseInt(index));_this2.setState({modalVisible:false});},style:[styles.listItem,{height:_commonColor2.default.listItemHeight}],icon:true,__source:{fileName:_jsxFileName,lineNumber:122}},_react2.default.createElement(_Left.Left,{__source:{fileName:_jsxFileName,lineNumber:135}},_react2.default.createElement(_Icon.Icon,{name:item.icon,style:{color:item.iconColor?item.iconColor:undefined},__source:{fileName:_jsxFileName,lineNumber:136}})),_react2.default.createElement(_Body.Body,{style:styles.listItemBody,__source:{fileName:_jsxFileName,lineNumber:143}},_react2.default.createElement(_Text.Text,{__source:{fileName:_jsxFileName,lineNumber:144}},item.text)),_react2.default.createElement(_Right.Right,{__source:{fileName:_jsxFileName,lineNumber:146}}));},__source:{fileName:_jsxFileName,lineNumber:103}}))));}}]);return ActionSheetContainer;}(_react.Component);ActionSheetContainer.propTypes=_extends({},_reactNative.ViewPropTypes,{style:_propTypes2.default.oneOfType([_propTypes2.default.object,_propTypes2.default.number,_propTypes2.default.array])});var styles=_reactNative.StyleSheet.create({containerTouchable:{backgroundColor:_commonColor2.default.containerTouchableBackgroundColor,flex:1,justifyContent:'flex-end'},flatList:{marginHorizontal:_commonColor2.default.marginHorizontal},innerTouchable:{backgroundColor:_commonColor2.default.innerTouchableBackgroundColor,minHeight:_commonColor2.default.minHeight,maxHeight:_reactNative.Dimensions.get('window').height/2,padding:_commonColor2.default.padding,elevation:_commonColor2.default.elevation},listItem:{borderColor:_commonColor2.default.listItemBorderColor,marginLeft:_commonColor2.default.marginLeft},listItemBody:{borderColor:_commonColor2.default.listItemBorderColor,paddingLeft:_commonColor2.default.marginLeft/2},touchableText:{color:_commonColor2.default.touchableTextColor}});var StyledActionSheetContainer=(0,_nativeBaseShoutemTheme.connectStyle)('NativeBase.ActionSheetContainer',{},_mapPropsToStyleNames2.default)(ActionSheetContainer);exports.ActionSheetContainer=StyledActionSheetContainer;","map":{"version":3,"sources":["../../../src/basic/Actionsheet.js"],"names":["ActionSheetContainer","Component","config","callback","modalVisible","items","console","Platform","PLATFORM","options","filtered","item","filteredConfig","ActionSheetIOS","title","message","destructiveButtonIndex","cancelButtonIndex","styles","marginTop","commonColor","String","index","parseInt","height","color","ViewPropTypes","style","PropTypes","StyleSheet","containerTouchable","backgroundColor","flex","justifyContent","flatList","marginHorizontal","innerTouchable","minHeight","maxHeight","Dimensions","padding","elevation","listItem","borderColor","marginLeft","listItemBody","paddingLeft","touchableText","StyledActionSheetContainer","mapPropsToStyleNames"],"mappings":"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","sourcesContent":["/* eslint-disable no-use-before-define */\n/* eslint-disable radix */\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport {\n  ActionSheetIOS,\n  Dimensions,\n  FlatList,\n  Modal,\n  Platform,\n  TouchableOpacity,\n  StyleSheet,\n  ViewPropTypes\n} from 'react-native';\nimport { connectStyle } from 'native-base-shoutem-theme';\n\nimport mapPropsToStyleNames from '../utils/mapPropsToStyleNames';\nimport commonColor, { PLATFORM } from '../theme/variables/commonColor';\n\nimport { Text } from './Text';\nimport { Icon } from './Icon';\nimport { Left } from './Left';\nimport { Right } from './Right';\nimport { Body } from './Body';\nimport { ListItem } from './ListItem';\n\nclass ActionSheetContainer extends Component {\n  static actionsheetInstance;\n  static show(config, callback) {\n    this.actionsheetInstance._root.showActionSheet(config, callback);\n  }\n  static hide() {\n    this.actionsheetInstance._root.hideActionSheet();\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      modalVisible: false,\n      items: []\n    };\n  }\n\n  componentDidMount() {\n    if (!this.props.autoHide && this.props.duration) {\n      console.warn(`It's not recommended to set autoHide false with duration`);\n    }\n  }\n\n  showActionSheet(config, callback) {\n    if (Platform.OS === PLATFORM.IOS) {\n      if (typeof config.options[0] === 'object') {\n        const options = config.options;\n        const filtered = options.map(item => {\n          return item.text;\n        });\n\n        const filteredConfig = { ...config, options: filtered };\n        ActionSheetIOS.showActionSheetWithOptions(filteredConfig, callback);\n      } else {\n        ActionSheetIOS.showActionSheetWithOptions(config, callback);\n      }\n    } else {\n      this.setState({\n        items: config.options,\n        title: config.title,\n        message: config.message,\n        destructiveButtonIndex: config.destructiveButtonIndex,\n        cancelButtonIndex: config.cancelButtonIndex,\n        modalVisible: true,\n        callback\n      });\n    }\n  }\n\n  hideActionSheet() {\n    this.setState({ modalVisible: false });\n  }\n\n  render() {\n    return (\n      <Modal\n        animationType={'fade'}\n        transparent\n        visible={this.state.modalVisible}\n        onRequestClose={() => {\n          this.state.callback(this.state.cancelButtonIndex);\n          this.setState({ modalVisible: false });\n        }}\n      >\n        <TouchableOpacity\n          activeOpacity={1}\n          onPress={() => {\n            this.state.callback(this.state.cancelButtonIndex);\n            this.setState({ modalVisible: false });\n          }}\n          style={styles.containerTouchable}\n        >\n          <TouchableOpacity activeOpacity={1} style={styles.innerTouchable}>\n            {this.state.title ? (\n              <Text style={styles.touchableText}>{this.state.title}</Text>\n            ) : null}\n            <FlatList\n              style={[\n                styles.flatList,\n                { marginTop: this.state.title ? commonColor.marginTop : 0 }\n              ]}\n              data={this.state.items}\n              keyExtractor={(item, index) => String(index)}\n              renderItem={({ index, item }) => {\n                return typeof this.state.items[0] === 'string' ? (\n                  <ListItem\n                    onPress={() => {\n                      this.state.callback(parseInt(index));\n                      this.setState({ modalVisible: false });\n                    }}\n                    style={styles.listItem}\n                  >\n                    <Text>{item}</Text>\n                  </ListItem>\n                ) : (\n                  <ListItem\n                    onPress={() => {\n                      this.state.callback(parseInt(index));\n                      this.setState({ modalVisible: false });\n                    }}\n                    style={[\n                      styles.listItem,\n                      {\n                        height: commonColor.listItemHeight\n                      }\n                    ]}\n                    icon\n                  >\n                    <Left>\n                      <Icon\n                        name={item.icon}\n                        style={{\n                          color: item.iconColor ? item.iconColor : undefined\n                        }}\n                      />\n                    </Left>\n                    <Body style={styles.listItemBody}>\n                      <Text>{item.text}</Text>\n                    </Body>\n                    <Right />\n                  </ListItem>\n                );\n              }}\n            />\n          </TouchableOpacity>\n        </TouchableOpacity>\n      </Modal>\n    );\n  }\n}\n\nActionSheetContainer.propTypes = {\n  ...ViewPropTypes,\n  style: PropTypes.oneOfType([\n    PropTypes.object,\n    PropTypes.number,\n    PropTypes.array\n  ])\n};\n\nconst styles = StyleSheet.create({\n  containerTouchable: {\n    backgroundColor: commonColor.containerTouchableBackgroundColor,\n    flex: 1,\n    justifyContent: 'flex-end'\n  },\n  flatList: {\n    marginHorizontal: commonColor.marginHorizontal\n  },\n  innerTouchable: {\n    backgroundColor: commonColor.innerTouchableBackgroundColor,\n    minHeight: commonColor.minHeight,\n    maxHeight: Dimensions.get('window').height / 2,\n    padding: commonColor.padding,\n    elevation: commonColor.elevation\n  },\n  listItem: {\n    borderColor: commonColor.listItemBorderColor,\n    marginLeft: commonColor.marginLeft\n  },\n  listItemBody: {\n    borderColor: commonColor.listItemBorderColor,\n    paddingLeft: commonColor.marginLeft / 2\n  },\n  touchableText: {\n    color: commonColor.touchableTextColor\n  }\n});\n\nconst StyledActionSheetContainer = connectStyle(\n  'NativeBase.ActionSheetContainer',\n  {},\n  mapPropsToStyleNames\n)(ActionSheetContainer);\n\nexport { StyledActionSheetContainer as ActionSheetContainer };\n"]},"metadata":{},"sourceType":"script"}