{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nvar _jsxFileName = \"/Users/yuvalbeiser/Downloads/codecanyon-B1UUUVLW-harrier-react-native-ecommerce-ui-kit-template/eCommerce2/node_modules/expo-linear-gradient/build/NativeLinearGradient.web.js\";\nimport React from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nvar PI_2 = Math.PI / 2;\n\nvar NativeLinearGradient = function (_React$PureComponent) {\n  _inherits(NativeLinearGradient, _React$PureComponent);\n\n  function NativeLinearGradient() {\n    var _this;\n\n    _classCallCheck(this, NativeLinearGradient);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(NativeLinearGradient).apply(this, arguments));\n    _this.state = {\n      width: undefined,\n      height: undefined\n    };\n\n    _this.onLayout = function (event) {\n      _this.setState({\n        width: event.nativeEvent.layout.width,\n        height: event.nativeEvent.layout.height\n      });\n\n      if (_this.props.onLayout) {\n        _this.props.onLayout(event);\n      }\n    };\n\n    _this.getControlPoints = function () {\n      var _this$props = _this.props,\n          startPoint = _this$props.startPoint,\n          endPoint = _this$props.endPoint;\n      var correctedStartPoint = [0, 0];\n\n      if (Array.isArray(startPoint)) {\n        correctedStartPoint = [startPoint[0] != null ? startPoint[0] : 0.0, startPoint[1] != null ? startPoint[1] : 0.0];\n      }\n\n      var correctedEndPoint = [0.0, 1.0];\n\n      if (Array.isArray(endPoint)) {\n        correctedEndPoint = [endPoint[0] != null ? endPoint[0] : 0.0, endPoint[1] != null ? endPoint[1] : 1.0];\n      }\n\n      return [correctedStartPoint, correctedEndPoint];\n    };\n\n    _this.calculateGradientAngleFromControlPoints = function () {\n      var _this$getControlPoint = _this.getControlPoints(),\n          _this$getControlPoint2 = _slicedToArray(_this$getControlPoint, 2),\n          start = _this$getControlPoint2[0],\n          end = _this$getControlPoint2[1];\n\n      var _this$state = _this.state,\n          _this$state$width = _this$state.width,\n          width = _this$state$width === void 0 ? 1 : _this$state$width,\n          _this$state$height = _this$state.height,\n          height = _this$state$height === void 0 ? 1 : _this$state$height;\n      start[0] *= width;\n      end[0] *= width;\n      start[1] *= height;\n      end[1] *= height;\n      var py = end[1] - start[1];\n      var px = end[0] - start[0];\n      return 90 + Math.atan2(py, px) * 180 / Math.PI;\n    };\n\n    _this.getWebGradientColorStyle = function () {\n      return _this.getGradientValues().join(',');\n    };\n\n    _this.convertJSColorToGradientSafeColor = function (color, index) {\n      var locations = _this.props.locations;\n      var hexColor = hexStringFromProcessedColor(color);\n      var output = hexColor;\n\n      if (locations && locations[index]) {\n        var location = Math.max(0, Math.min(1, locations[index]));\n        var percentage = location * 100;\n        output += \" \" + percentage + \"%\";\n      }\n\n      return output;\n    };\n\n    _this.getGradientValues = function () {\n      return _this.props.colors.map(_this.convertJSColorToGradientSafeColor);\n    };\n\n    _this.getBackgroundImage = function () {\n      return \"linear-gradient(\" + _this.calculateGradientAngleFromControlPoints() + \"deg, \" + _this.getWebGradientColorStyle() + \")\";\n    };\n\n    return _this;\n  }\n\n  _createClass(NativeLinearGradient, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          colors = _this$props2.colors,\n          locations = _this$props2.locations,\n          startPoint = _this$props2.startPoint,\n          endPoint = _this$props2.endPoint,\n          onLayout = _this$props2.onLayout,\n          style = _this$props2.style,\n          props = _objectWithoutProperties(_this$props2, [\"colors\", \"locations\", \"startPoint\", \"endPoint\", \"onLayout\", \"style\"]);\n\n      var backgroundImage = this.getBackgroundImage();\n      return React.createElement(View, _extends({\n        style: [style, {\n          backgroundImage: backgroundImage\n        }],\n        onLayout: this.onLayout\n      }, props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        }\n      }));\n    }\n  }]);\n\n  return NativeLinearGradient;\n}(React.PureComponent);\n\nexport { NativeLinearGradient as default };\n\nfunction hexStringFromProcessedColor(argbColor) {\n  if (argbColor === 0) {\n    return \"rgba(0,0,0,0)\";\n  }\n\n  var hexColorString = argbColor.toString(16);\n  var withoutAlpha = hexColorString.substring(2);\n  var alpha = hexColorString.substring(0, 2);\n  return \"#\" + withoutAlpha + alpha;\n}","map":{"version":3,"sources":["../src/NativeLinearGradient.web.tsx"],"names":[],"mappings":"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","sourcesContent":["import React from 'react';\nimport { View } from 'react-native';\n\ntype Props = {\n  colors: number[];\n  locations?: number[] | null;\n  startPoint?: Point | null;\n  endPoint?: Point | null;\n  onLayout?: Function;\n} & React.ComponentProps<typeof View>;\n\ntype State = {\n  width?: number;\n  height?: number;\n};\n\ntype Point = [number, number];\n\nconst PI_2 = Math.PI / 2;\n\nexport default class NativeLinearGradient extends React.PureComponent<Props, State> {\n  state = {\n    width: undefined,\n    height: undefined,\n  };\n\n  onLayout = event => {\n    this.setState({\n      width: event.nativeEvent.layout.width,\n      height: event.nativeEvent.layout.height,\n    });\n    if (this.props.onLayout) {\n      this.props.onLayout(event);\n    }\n  };\n\n  getControlPoints = (): Point[] => {\n    const { startPoint, endPoint } = this.props;\n\n    let correctedStartPoint: Point = [0, 0];\n    if (Array.isArray(startPoint)) {\n      correctedStartPoint = [\n        startPoint[0] != null ? startPoint[0] : 0.0,\n        startPoint[1] != null ? startPoint[1] : 0.0,\n      ];\n    }\n    let correctedEndPoint: Point = [0.0, 1.0];\n    if (Array.isArray(endPoint)) {\n      correctedEndPoint = [\n        endPoint[0] != null ? endPoint[0] : 0.0,\n        endPoint[1] != null ? endPoint[1] : 1.0,\n      ];\n    }\n    return [correctedStartPoint, correctedEndPoint];\n  };\n\n  calculateGradientAngleFromControlPoints = (): number => {\n    const [start, end] = this.getControlPoints();\n    const { width = 1, height = 1 } = this.state;\n    start[0] *= width;\n    end[0] *= width;\n    start[1] *= height;\n    end[1] *= height;\n    const py = end[1] - start[1];\n    const px = end[0] - start[0];\n    return 90 + (Math.atan2(py, px) * 180) / Math.PI;\n  };\n\n  getWebGradientColorStyle = (): string => {\n    return this.getGradientValues().join(',');\n  };\n\n  convertJSColorToGradientSafeColor = (color: number, index: number): string => {\n    const { locations } = this.props;\n    const hexColor = hexStringFromProcessedColor(color);\n    let output = hexColor;\n    if (locations && locations[index]) {\n      const location = Math.max(0, Math.min(1, locations[index]));\n      // Convert 0...1 to 0...100\n      const percentage = location * 100;\n      output += ` ${percentage}%`;\n    }\n    return output;\n  };\n\n  getGradientValues = (): string[] => {\n    return this.props.colors.map(this.convertJSColorToGradientSafeColor);\n  };\n\n  getBackgroundImage = (): string => {\n    return `linear-gradient(${this.calculateGradientAngleFromControlPoints()}deg, ${this.getWebGradientColorStyle()})`;\n  };\n\n  render() {\n    const { colors, locations, startPoint, endPoint, onLayout, style, ...props } = this.props;\n    const backgroundImage = this.getBackgroundImage();\n    // TODO: Bacon: In the future we could consider adding `backgroundRepeat: \"no-repeat\"`. For more browser support.\n    return (\n      <View\n        style={[\n          style,\n          // @ts-ignore: [ts] Property 'backgroundImage' does not exist on type 'ViewStyle'.\n          { backgroundImage },\n        ]}\n        onLayout={this.onLayout}\n        {...props}\n      />\n    );\n  }\n}\n\nfunction hexStringFromProcessedColor(argbColor: number): string {\n  if (argbColor === 0) {\n    return `rgba(0,0,0,0)`;\n  }\n  const hexColorString = argbColor.toString(16);\n  const withoutAlpha = hexColorString.substring(2);\n  const alpha = hexColorString.substring(0, 2);\n  return `#${withoutAlpha}${alpha}`;\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}